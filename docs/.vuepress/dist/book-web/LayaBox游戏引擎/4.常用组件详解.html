<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4.常用组件详解 | Liawn&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <meta charset="UTF-8">
  <link rel="icon" href="/blog-vuepress/favicon.ico">
    <meta name="description" content="用vuepress搭建的个人博客">
    <meta charset="UTF-8">
    
    <link rel="preload" href="/blog-vuepress/assets/css/0.styles.5c52d671.css" as="style"><link rel="preload" href="/blog-vuepress/assets/js/app.0d2e1fde.js" as="script"><link rel="preload" href="/blog-vuepress/assets/js/2.a046c74e.js" as="script"><link rel="preload" href="/blog-vuepress/assets/js/15.b9f3c2f3.js" as="script"><link rel="prefetch" href="/blog-vuepress/assets/js/10.88d5532b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/100.a282e1e5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/101.1917817b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/102.426bef2e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/103.24a96e53.js"><link rel="prefetch" href="/blog-vuepress/assets/js/104.0b4b8196.js"><link rel="prefetch" href="/blog-vuepress/assets/js/105.98db5522.js"><link rel="prefetch" href="/blog-vuepress/assets/js/106.7a39c799.js"><link rel="prefetch" href="/blog-vuepress/assets/js/11.78e26b31.js"><link rel="prefetch" href="/blog-vuepress/assets/js/12.e39a10a3.js"><link rel="prefetch" href="/blog-vuepress/assets/js/13.da0e53c1.js"><link rel="prefetch" href="/blog-vuepress/assets/js/14.91a6c713.js"><link rel="prefetch" href="/blog-vuepress/assets/js/16.01c98a8e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/17.e733ec41.js"><link rel="prefetch" href="/blog-vuepress/assets/js/18.f4fea388.js"><link rel="prefetch" href="/blog-vuepress/assets/js/19.1d376bae.js"><link rel="prefetch" href="/blog-vuepress/assets/js/20.4751d85a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/21.00437d3b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/22.64839502.js"><link rel="prefetch" href="/blog-vuepress/assets/js/23.7a4335d7.js"><link rel="prefetch" href="/blog-vuepress/assets/js/24.3ee2b263.js"><link rel="prefetch" href="/blog-vuepress/assets/js/25.0767dbc8.js"><link rel="prefetch" href="/blog-vuepress/assets/js/26.c416d882.js"><link rel="prefetch" href="/blog-vuepress/assets/js/27.5e82d924.js"><link rel="prefetch" href="/blog-vuepress/assets/js/28.24de79c4.js"><link rel="prefetch" href="/blog-vuepress/assets/js/29.5a1e4f8e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/3.0b0dd8a7.js"><link rel="prefetch" href="/blog-vuepress/assets/js/30.3c71597f.js"><link rel="prefetch" href="/blog-vuepress/assets/js/31.f5f5fe9d.js"><link rel="prefetch" href="/blog-vuepress/assets/js/32.eac572f0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/33.660b2af0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/34.b6f9bd89.js"><link rel="prefetch" href="/blog-vuepress/assets/js/35.2e5e8650.js"><link rel="prefetch" href="/blog-vuepress/assets/js/36.04d6e910.js"><link rel="prefetch" href="/blog-vuepress/assets/js/37.4ffc07ec.js"><link rel="prefetch" href="/blog-vuepress/assets/js/38.f31deb49.js"><link rel="prefetch" href="/blog-vuepress/assets/js/39.5bd11cdb.js"><link rel="prefetch" href="/blog-vuepress/assets/js/4.6edbb2a1.js"><link rel="prefetch" href="/blog-vuepress/assets/js/40.c0dc0955.js"><link rel="prefetch" href="/blog-vuepress/assets/js/41.32840955.js"><link rel="prefetch" href="/blog-vuepress/assets/js/42.afdf16b6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/43.04bbcb6b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/44.3f372036.js"><link rel="prefetch" href="/blog-vuepress/assets/js/45.199528f2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/46.c23ffbe2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/47.33bc80d6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/48.c17f8a84.js"><link rel="prefetch" href="/blog-vuepress/assets/js/49.9f6c2490.js"><link rel="prefetch" href="/blog-vuepress/assets/js/5.c6c641ea.js"><link rel="prefetch" href="/blog-vuepress/assets/js/50.d6762688.js"><link rel="prefetch" href="/blog-vuepress/assets/js/51.1b65f46c.js"><link rel="prefetch" href="/blog-vuepress/assets/js/52.d00b4d17.js"><link rel="prefetch" href="/blog-vuepress/assets/js/53.becdeb67.js"><link rel="prefetch" href="/blog-vuepress/assets/js/54.fe84cbfc.js"><link rel="prefetch" href="/blog-vuepress/assets/js/55.42ca78e9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/56.38dc1cb5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/57.f4964e37.js"><link rel="prefetch" href="/blog-vuepress/assets/js/58.9b4d0044.js"><link rel="prefetch" href="/blog-vuepress/assets/js/59.cfb9c546.js"><link rel="prefetch" href="/blog-vuepress/assets/js/6.c6de6921.js"><link rel="prefetch" href="/blog-vuepress/assets/js/60.4f4f3658.js"><link rel="prefetch" href="/blog-vuepress/assets/js/61.e691fcda.js"><link rel="prefetch" href="/blog-vuepress/assets/js/62.fd6c77be.js"><link rel="prefetch" href="/blog-vuepress/assets/js/63.9acec8fc.js"><link rel="prefetch" href="/blog-vuepress/assets/js/64.c6c33b9e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/65.30e05c43.js"><link rel="prefetch" href="/blog-vuepress/assets/js/66.fdb85611.js"><link rel="prefetch" href="/blog-vuepress/assets/js/67.4a8c9b0e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/68.cf4c210b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/69.b27adaff.js"><link rel="prefetch" href="/blog-vuepress/assets/js/7.4196f4e6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/70.a3316969.js"><link rel="prefetch" href="/blog-vuepress/assets/js/71.9eb46133.js"><link rel="prefetch" href="/blog-vuepress/assets/js/72.0fe4fe9a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/73.0bf36b4a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/74.fc2e628a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/75.205b56bf.js"><link rel="prefetch" href="/blog-vuepress/assets/js/76.8c2bf9b9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/77.a0993252.js"><link rel="prefetch" href="/blog-vuepress/assets/js/78.41709f17.js"><link rel="prefetch" href="/blog-vuepress/assets/js/79.c8733b25.js"><link rel="prefetch" href="/blog-vuepress/assets/js/8.f87272cd.js"><link rel="prefetch" href="/blog-vuepress/assets/js/80.f5ed5113.js"><link rel="prefetch" href="/blog-vuepress/assets/js/81.ddb61980.js"><link rel="prefetch" href="/blog-vuepress/assets/js/82.1d3482a9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/83.a28d44e2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/84.ce75ed5e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/85.d4ffd27c.js"><link rel="prefetch" href="/blog-vuepress/assets/js/86.14ffaf35.js"><link rel="prefetch" href="/blog-vuepress/assets/js/87.482be605.js"><link rel="prefetch" href="/blog-vuepress/assets/js/88.c1035bd5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/89.e739598f.js"><link rel="prefetch" href="/blog-vuepress/assets/js/9.0f96b506.js"><link rel="prefetch" href="/blog-vuepress/assets/js/90.5a928d71.js"><link rel="prefetch" href="/blog-vuepress/assets/js/91.82d05736.js"><link rel="prefetch" href="/blog-vuepress/assets/js/92.8c0f11ee.js"><link rel="prefetch" href="/blog-vuepress/assets/js/93.5cff49c0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/94.8ad61574.js"><link rel="prefetch" href="/blog-vuepress/assets/js/95.f849a0b0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/96.31401883.js"><link rel="prefetch" href="/blog-vuepress/assets/js/97.98310d37.js"><link rel="prefetch" href="/blog-vuepress/assets/js/98.f626e78b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/99.6891a17b.js">
    <link rel="stylesheet" href="/blog-vuepress/assets/css/0.styles.5c52d671.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><a href="/blog-vuepress/" class="home-link router-link-active"><!----> <span class="site-name">Liawn's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog-vuepress/book-web/" class="nav-link router-link-active">
  Web
</a></div><div class="nav-item"><a href="/blog-vuepress/book-sketches/" class="nav-link">
  生活
</a></div> <!----></nav></div></header> <div class="sidebar-wrapper sidebar-hidden"><aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog-vuepress/book-web/" class="nav-link router-link-active">
  Web
</a></div><div class="nav-item"><a href="/blog-vuepress/book-sketches/" class="nav-link">
  生活
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span>web前端</span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/html、css、js、ts/学习JavaScript/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>学习JavaScript</span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/html、css、js、ts/学习CSS/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>学习CSS</span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/html、css、js、ts/学习TypeScript/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>学习TypeScript</span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/web前端js框架/学习Vue/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>学习Vue</span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/web前端js框架/学习React/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>学习React</span></a> <!----></section></li><li><a href="/blog-vuepress/book-web/web前端js框架/学习jQuery.html" class="sidebar-link">jQueryNote</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/LayaBox游戏引擎/" class="sidebar-heading clickable open"><span class="arrow down"></span> <span>H5游戏引擎Laya</span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/1.环境搭建.html" class="sidebar-link">1.环境搭建</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/2.IDE的使用.html" class="sidebar-link">2.IDE的使用</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/3.组件库的介绍.html" class="sidebar-link">3.组件库的介绍</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/4.常用组件详解.html" class="active sidebar-link">4.常用组件详解</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/5.组件化开发.html" class="sidebar-link">5.组件化开发</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/6.屏幕适配与抗锯齿.html" class="sidebar-link">6.屏幕适配与抗锯齿</a></li><li><a href="/blog-vuepress/book-web/LayaBox游戏引擎/7.性能优化.html" class="sidebar-link">7.屏幕适配与抗锯齿</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span>数据结构与算法</span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/数据结构与算法/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>数据结构与算法ts版</span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span>常用工具</span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-vuepress/book-web/常用工具/Npm的使用.html" class="sidebar-link">Npm的使用</a></li><li><a href="/blog-vuepress/book-web/常用工具/Git的使用.html" class="sidebar-link">Git的使用</a></li><li><a href="/blog-vuepress/book-web/常用工具/webpack的使用.html" class="sidebar-link">webpack的使用</a></li><li><a href="/blog-vuepress/book-web/常用工具/VSCode的使用.html" class="sidebar-link">VSCode的使用</a></li><li><a href="/blog-vuepress/book-web/常用工具/Chrome的使用.html" class="sidebar-link">Chrome的使用</a></li><li><a href="/blog-vuepress/book-web/常用工具/使用docsify写blog.html" class="sidebar-link">使用docsify写blog</a></li><li><a href="/blog-vuepress/book-web/常用工具/使用gitbook写blog.html" class="sidebar-link">使用gitbook写blog</a></li><li><a href="/blog-vuepress/book-web/web前端测试与调试/基于mocha+chai的单元测试.html" class="sidebar-link">使用mocha+chai进行单元测试</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span>简单项目实践</span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog-vuepress/book-web/项目/react+express+ts写爬虫/" class="sidebar-heading clickable"><span class="arrow right"></span> <span>react+express+ts写爬虫</span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span>面试准备</span></p> <!----></section></li></ul> </aside> <div class="sidebar-toggle" data-v-10bfdc0c><div class="sidebar-toggle-button" data-v-10bfdc0c><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span></div></div></div> <main class="page sidebar-hidden right-sidebar-hidden"> <div class="theme-default-content content__default"><h1 id="常用组件详解"><a href="#常用组件详解" class="header-anchor">#</a> 常用组件详解</h1> <h2 id="图像组件"><a href="#图像组件" class="header-anchor">#</a> 图像组件</h2> <h3 id="sprite"><a href="#sprite" class="header-anchor">#</a> Sprite</h3> <p><strong>Sprite</strong> 的创建：在层级面板里右击，再选择“创建Sprite节点”；<strong>不符合Laya基础组件命名规则的</strong>，拖拽到场景里或者层级面板里，<strong>都算作Sprite组件</strong>。<br>
Sprite相对于image要 <strong>性能更好一些，但是无法进行相对布局，也不能设置九宫格，也没有数据源</strong>。<br>
Sprite属性介绍：</p> <ul><li>公用
<ul><li>var：在场景里声明一个唯一的名字（<strong>直接this.xxx来调用</strong>），方便在代码模式里调用组件；如果发布模式是“文件模式”，<strong>由于没有场景类就不能使用var了</strong></li> <li>name：也是组件的名字，但 <strong>不是全局的</strong>，只能通过父级的 <strong>getChildByName方法</strong> 来调用</li> <li>位置布局：主要用于在场景里快捷布局</li></ul></li> <li>常用
<ul><li>runtime：运行时的逻辑类，也就是组件的脚本，将脚本代码拖拽到runtime处即可关联</li> <li>texture：纹理地址（图片地址，皮肤skin），将图片拖拽到texture处即可快速填写纹理地址</li> <li>visible：是否显示，默认为true</li></ul></li> <li>宽高及位置
<ul><li>x：x轴坐标</li> <li>y：y轴坐标</li> <li>width：宽度</li> <li>height：高度</li></ul></li> <li>旋转及缩放
<ul><li>pivotX：X轴心点，以像素为单位，影响缩放中心、旋转中心和显示位置；左上角的小黄点</li> <li>pivotY：Y轴心点，以像素为单位，影响缩放中心、旋转中心和显示位置</li> <li>scaleX：水平缩放，默认为1</li> <li>scaleY：垂直缩放，默认为1</li> <li>skewX：水平倾斜角度</li> <li>skewY：垂直倾斜角度</li> <li>ration：旋转的角度</li> <li>alpha：透明度（0-1）</li></ul></li> <li>其他
<ul><li>blendMode：混合模式；为lighter时，两张图片叠加，<strong>上层的图会混合底层的颜色</strong></li> <li>cacheAs：缓存组件，none为不缓存（默认值），normal只缓存命令（优化节点数），bitmap缓存为位图（优化DrawCall），<strong>静态面板可以开启cacheAs优化</strong></li> <li>drawCallOptimize：为true时开启DrawCall优化；引擎绘制时自动将所有文本提到显示最上层（相当于层级的最上层），<strong>避免同一个图集内的图像绘制时被文本打断，可以减少drawcall数量</strong>，如果存在 <strong>文字遮挡的需求</strong>，就不要开启drawCallOptimize，因为drawCallOptimize开启后 <strong>刚开始文本可能不会被遮挡了</strong></li> <li>hitTestPrior：<strong>指定鼠标事件监测是优先监测自身还是优先监测其子对象</strong>。默认为true，优先监测自身，如果 <strong>没有监测到就中断监测，表示没有命中</strong>。为false的话，优先监测其子对象，<strong>监测到子对象就会中断监测，获得命中目标；如果没有命中任何子对象才会去监测对象本身</strong>。</li> <li>mouseEnabled：是否接受鼠标事件，关闭后hitTestPrior不会再监测这个节点</li> <li>mouseThrough：<strong>当mouseEnabled为true时，mouseThrough才生效</strong>，用于修正点击区域的属性；mouseThrough默认为 <strong>false</strong>，节点设置的宽高为点击区域（<strong>hitTestPrior为false的话点击区域还会包含子对象</strong>）并穿透不了，如果没有设置宽高那就直接穿透了；mouseThrough为 <strong>true</strong> 时，不管设置宽高与否，<strong>显示的内容（可见部分）</strong> 就是点击区域并穿透不了，其他地方是穿透的（多个矢量图之间很特殊，是不穿透的）</li> <li>renderType：渲染类型；mask作为遮罩体渲染（子节点的形状会作为父节点的一个遮罩体），render作为list渲染项渲染，instance使用单例方式实例</li> <li>zOrder：层级z方向的顺序，值越大越靠上</li></ul></li></ul> <p><strong>Texture一般会依托于Sprite来显示，也可以在Image上显示，但在Sprite上更好（性能好也轻便），多个Texture在Sprite上只会显示一个。</strong></p> <h3 id="image"><a href="#image" class="header-anchor">#</a> Image</h3> <p><strong>Image</strong> 继承自UIComponent再继承自Sprite，所以Image有Sprite的属性，也有自己单独的属性。<br>
可以相对布局，可以设置九宫格，有数据源。</p> <ul><li>常用
<ul><li>sizeGrid：九宫格，主要 <strong>用于拉伸而又不影响边缘的情况，只拉伸中间无影响的部分</strong></li> <li>skin：同texture，是图片资源的地址</li> <li>group：加载分组，设置后可以按照组管理资源</li></ul></li> <li>宽高及位置（与Sprite最主要的区别，可以 <strong>相对布局</strong>）
<ul><li>left：居父容器左边的距离</li> <li>right：居父容器右边的距离</li> <li>top：居父容器上边的距离</li> <li>bottom：居父容器底边的距离</li> <li>centerX：水平居中偏移位置</li> <li>centerY：垂直居中偏移位置</li></ul></li> <li>其他
<ul><li>disabled：是否禁用，禁用后会置灰，同时不接收鼠标事件</li> <li>gray：是否变灰，只变灰，接收鼠标事件</li></ul></li></ul> <h2 id="视图组件"><a href="#视图组件" class="header-anchor">#</a> 视图组件</h2> <p>视图组件的创建是在“工程-Scenes”里创建的，如下图<br> <img src="/blog-vuepress/assets/img/创建场景.dc894d65.png" alt="创建场景"><br> <img src="/blog-vuepress/assets/img/创建视图组件.63bba64c.png" alt="创建视图组件"><br>
会看到视图组件有三种：<strong>Scene、View、Dialog</strong>；它们的关系是 <strong>Dialog继承自View，View继承自Scene</strong>。</p> <ul><li>视图组件有个 <strong>预加载功能</strong>，这个功能按钮在右上角，你可以让一些资源 <strong>不预加载</strong>，对应资源的打包方式要改为 <strong>“不打包”</strong></li> <li><strong>别名</strong> 是在IDE里显示用的，实际没有什么意义</li> <li>在属性里修改宽高，在场景设置里会自动对应修改</li></ul> <h3 id="scene"><a href="#scene" class="header-anchor">#</a> Scene</h3> <p><strong>Scene</strong> 是场景，用于游戏中的主场景、战斗场景、副本场景等等</p> <ul><li>常用
<ul><li>sceneColor：参考背景颜色（<strong>实际运行中没有</strong>）</li> <li>autoDestroyAtClosed：场景被关闭后，<strong>是否自动销毁（销毁节点和使用到的资源）</strong>，默认为false；更灵活地管理资源可以手动去销毁</li></ul></li> <li>其他
<ul><li>viewport：视口大小(格式:x,y,width,height)，<strong>视口外的子对象，将不被渲染</strong>；适用于RPG类游戏</li></ul></li></ul> <p><strong>Scene不能进行相对布局的</strong>，所以没有left、right、top、bottom、centerX、centerY这些属性</p> <h3 id="view"><a href="#view" class="header-anchor">#</a> View</h3> <p><strong>View</strong> 是一个常用的显示面板或者说是显示模块，比如游戏中底部的经验条、左上角的角色信息、侧边的功能区域等等<br>
因为View是继承自Scene，所以Scene有的属性，它大部分都有，有个别不同的：</p> <ul><li>旋转及缩放
<ul><li>anchorX：X轴锚点，值为0-1（<strong>用于相对定位；View有left、right、top、bottom、centerX、centerY这些属性，可以相对定位</strong>）</li> <li>anchorY：Y轴锚点，值为0-1</li> <li>pivotX：<strong>View没有该属性</strong></li> <li>pivotY：<strong>View没有该属性</strong></li> <li>skewX：<strong>View没有该属性</strong></li> <li>skewY：<strong>View没有该属性</strong></li> <li>ration：<strong>View没有该属性</strong></li> <li>alpha：<strong>View没有该属性</strong></li></ul></li></ul> <p>PS：<strong>anchor是相对于父节点的参考点，而pivot是相对于本身的旋转、缩放等参考点</strong></p> <h3 id="dialog"><a href="#dialog" class="header-anchor">#</a> Dialog</h3> <p><strong>Dialog</strong> 是弹窗，也是游戏中常用的模块，<strong>用于显示提示信息或者对话框等</strong><br>
因为Dialog是继承自View，所以View有的属性，它大部分都有，它也有自己独有的：</p> <ul><li>常用
<ul><li>dragArea：拖动区域(格式:x, y, width, height)，<strong>一般设置在弹窗的顶部区域，按住弹窗的顶部就可以就行拖动了</strong>，比较适用于任务提示、线路提示等一些可以自定义拖动的弹窗</li> <li>isModal：是否是模式窗口，<strong>默认是false点击是穿透的，设置为true的话点击弹窗就不会穿透到后面</strong></li> <li>isShowEffect：是否显示弹出效果，默认带了弹出效果</li> <li>isPopupCenter：指定对话框是否居中弹出，默认是居中弹出的</li></ul></li></ul> <h2 id="切片组件"><a href="#切片组件" class="header-anchor">#</a> 切片组件</h2> <p>切片是对位图在一个方向上进行等比切割（裁剪）；FontClip继承自Clip</p> <h3 id="clip"><a href="#clip" class="header-anchor">#</a> Clip</h3> <ul><li>常用
<ul><li>autoPlay：是否自动播放，默认false</li> <li>clipWidth：单切片宽度(优先级高于clipX)</li> <li>clipHeight：单切片高度(优先级高于clipY)</li> <li>clipX：切片X轴数量(通常使用这个)</li> <li>clipY：切片Y轴数量(通常使用这个)</li> <li>index：当前帧位置，也就是当前显示的是哪一个，从0开始</li></ul></li> <li>其他
<ul><li>interval：动画播放间隔(单位毫秒)，时钟、倒计时和计时器可以使用这个</li></ul></li></ul> <h3 id="fontclip"><a href="#fontclip" class="header-anchor">#</a> FontClip</h3> <p>推荐使用 <strong>FontClip</strong> ，非常常用的，特殊的文本和字体需要使用它
因为FontClip是继承自Clip，所以Clip有的属性，它大部分都有，它也有自己独有的：</p> <ul><li>常用
<ul><li>align：水平对齐方式</li> <li>sheet：位图内容范围（文字就直接写文字，如果是图片就使用索引）</li> <li>value：位图数字内容（显示值，文字或索引）</li> <li>spaceX：X方向项间隔（字间距）</li> <li>spaceY：Y方向项间隔（字间距）</li> <li>direction：排列方向（一般是横着显示horizontal，也可以竖着显示vertical）
<img src="/blog-vuepress/assets/img/fontClip.706b767f.png" alt="fontClip"></li></ul></li></ul> <h2 id="文本组件"><a href="#文本组件" class="header-anchor">#</a> 文本组件</h2> <h3 id="filltext"><a href="#filltext" class="header-anchor">#</a> FillText</h3> <p><strong>FillText是一个Graphics绘制的文本</strong>，<strong>动态文本建议使用FillText，静态文本用Text或Label</strong>；因为动态的文本在使用Text会创建新图集比较耗内存，而FillText是 <strong>使用旧图集或一个字一个字提交（创建效率低一些），图集利用率和共享好</strong>，但是复杂的“蝌蚪文”不建议使用FillText（中英文可以），分割时可能会出错。</p> <ul><li>公用
<ul><li>renderType：渲染类型，空值就是作为文本显示在画布上；hit：只作为鼠标点击区域，不会显示在画布上；unHit：不可点击区域，也不会显示在画布上；</li></ul></li> <li>常用
<ul><li>text：文本内容（不换行）</li> <li>font：字体（比较特殊，可以写字体、大小、斜体、粗体等等）</li> <li>color：字体颜色（支持16进制、rgb和颜色英文名）</li> <li>textAlign：对齐方式（跟普通的也有区别，不是在整个文本区域里对齐的）</li></ul></li></ul> <h3 id="text"><a href="#text" class="header-anchor">#</a> Text</h3> <p><strong>Text</strong> 最基础的2D文本组件</p> <ul><li>常用
<ul><li>text：文本内容（不换行）</li> <li>font：字体（只是设置文本字体样式）</li> <li>fontSize：字体大小</li> <li>bold：是否粗体</li> <li>color：文字颜色</li> <li>italic：是否为斜体</li> <li>align：水平对齐方式</li> <li>valign：垂直对齐方式</li> <li>wordWrap：文本是否自动换行，默认为false，不可自动换行</li> <li>leading：垂直padding行间距（以像素为单位）</li> <li>padding：边距信息(上边距，右边距，下边距 , 左边距)</li> <li>overflow：文本超出文本域后的行为（visible不进行任何裁切，hidden超出后隐藏，scroll超出后可以滚动查看）</li> <li>stroke：描边宽度</li> <li>strokeColor：描边颜色</li></ul></li></ul> <h3 id="label"><a href="#label" class="header-anchor">#</a> Label</h3> <p><strong>Label</strong> 是封装了Text的UI文本组件，Text有的属性Label基本也有，介绍一下Label独有的属性：</p> <ul><li>常用
<ul><li>text：文本内容（可换行，加\n）</li> <li>bgColor：背景颜色（文本域的背景颜色）</li> <li>borderColor：文本边框颜色</li> <li>underline：是否显示下划线</li> <li>underlineColor：下划线颜色</li></ul></li></ul> <p>如果 <strong>没有相对布局、文字换行、下划线</strong> 等这些需求，使用Text要比Label <strong>性能更好一些</strong></p> <h3 id="textinput"><a href="#textinput" class="header-anchor">#</a> TextInput</h3> <p>输入框 <strong>TextInput</strong> 继承自label，有label的绝大部分属性，因为是输入框所以也有自己独有的属性：</p> <ul><li>常用
<ul><li>sizeGrid：九宫格信息(格式:上边距,右边距,下边距,左边距,是否平铺(0或1，可选))</li> <li>skin：背景皮肤</li> <li>type：输入框类型(text,password,email,url,number,range,date,month,week,time,datetime,datetime-local,searc)</li> <li>maxChars：最大字符数</li> <li>restrict：限制输入的字符，输入到这里的，是只能输入这些。不建议开启。适用于简单的文本。不支持反斜杠(中文在PC和手机情况不一样，也不建议)</li> <li>prompt：输入前提示文本</li> <li>promptColor：输入提示文本的颜色</li> <li>editable：设置可编辑状态</li> <li>multiline：是否是文本域。 值为true表示当前是文本域，可多行输入，否则不是文本域。（在简单情况下可以取代textArea）</li></ul></li></ul> <h3 id="textarea"><a href="#textarea" class="header-anchor">#</a> TextArea</h3> <p>虽然 <strong>TextInput</strong> 使用 <strong>multiline</strong> 可以实现多行文本域的效果，但是可能会 <strong>需要用到滚动条什么的</strong>，这时候用到 <strong>TextArea</strong> 会比较好</p> <ul><li>常用
<ul><li>vScrollBarSkin：添加垂直滚动条皮肤</li> <li>hScrollBarSkin：添加水平滚动条皮肤</li></ul></li></ul> <h3 id="htmldivelement"><a href="#htmldivelement" class="header-anchor">#</a> HTMLDivElement</h3> <p><strong>HTMLDivElement</strong> 富文本，常用于 <strong>聊天面板或者复杂图文混排</strong> 里；引擎对H5标签进行解析，然后渲染绘制到画布上，它并不是标准的H5元素（Laya支持常用的H5标签解析）；<strong>可以派发link事件的富文本，如果有href，可以在href里携带参数，后面接收link事件时也会接收该参数</strong>。</p> <ul><li>innerHTML：html内容</li></ul> <h2 id="滚动条与裁剪面板容器"><a href="#滚动条与裁剪面板容器" class="header-anchor">#</a> 滚动条与裁剪面板容器</h2> <h3 id="scrollbar"><a href="#scrollbar" class="header-anchor">#</a> ScrollBar</h3> <p>水平滚动条 <strong>HScrollBar</strong> 和垂直滚动条 <strong>VScrollBar</strong> 都是继承自 <strong>ScrollBar</strong></p> <ul><li>常用
<ul><li>max：最大滚动位置</li> <li>min：最小滚动位置</li> <li>scrollSize：点击按钮滚动量,每点击一次方向按钮，滚动条的值改变多大</li> <li>value：滚动条当前进度值</li> <li>mouseWheelEnable：是否滚轮滚动(PC)，默认为true</li> <li>touchScrollEnable：是否触摸滚动(触摸屏)，默认为true</li> <li>hide：是否隐藏滚动条，不显示滚动条，但是可以正常滚动，默认为false</li> <li>autoHide：是否自动隐藏滚动条，无需滚动时隐藏滚动条，内容需要滚动时显示滚动条。默认为true</li> <li>showButtons：是否显示按钮，默认为true（移动端一般不需要）</li> <li>scaleBar：是否自动缩放滑动条，默认值为true，为false时，滑动条固定不变</li> <li>rollRatio：滚动衰减系数，默认为0.95（平滑过渡效果）</li> <li>elasticDistance：橡皮筋效果极限距离，0为没有橡皮筋效果（超过顶部或底部会回弹）</li> <li>elasticBackTime：橡皮筋回弹时间，单位为毫秒</li></ul></li></ul> <h3 id="panel"><a href="#panel" class="header-anchor">#</a> Panel</h3> <p><strong>带滚动条的显示面板容器</strong>，有固定宽高，给它设置滚动条后，超过panel宽高的内容可以通过滚动条来显示</p> <ul><li>常用
<ul><li>hScrollBarSkin：水平滚动条皮肤</li> <li>vScrollBarSkin：垂直滚动条皮肤</li> <li>elasticEnabled：是否使用橡皮筋效果，默认为false</li></ul></li></ul> <h2 id="进度条与滑动条"><a href="#进度条与滑动条" class="header-anchor">#</a> 进度条与滑动条</h2> <h3 id="progressbar"><a href="#progressbar" class="header-anchor">#</a> ProgressBar</h3> <p><strong>进度条ProgressBar</strong>，常用于场景切换之前的资源加载界面</p> <ul><li>常用
<ul><li>value：当前进度范围是0到1</li></ul></li></ul> <h3 id="slider"><a href="#slider" class="header-anchor">#</a> Slider</h3> <p>水平滑动条 <strong>HSlider</strong> 和垂直滑动条 <strong>VSlider</strong> 都是继承自 <strong>Slider</strong></p> <ul><li>常用
<ul><li>max：滑块上允许的最大值</li> <li>min：滑块上允许的最小值</li> <li>showLabel：是否显示标签，默认为true，该标签的文字样式改不了</li> <li>tick：刻度值的最小单位（在标签上显示比较明显）</li> <li>value：当前所在刻度</li> <li>allowClickBack：为true时，可以通过点击滑动条目标区域，快速跳转到当前所在刻度（改变value值），为false时禁止通过点击改变value值</li></ul></li></ul> <h2 id="按钮、多选框、单选框与单选框组"><a href="#按钮、多选框、单选框与单选框组" class="header-anchor">#</a> 按钮、多选框、单选框与单选框组</h2> <h3 id="button"><a href="#button" class="header-anchor">#</a> Button</h3> <p>游戏中常见的按钮组件</p> <ul><li>常用
<ul><li>toggle：为true时，可以通过点击切换按钮显示状态。为false时，点击后会直接恢复初始状态</li> <li>stateNum：皮肤的状态数，支持单态，两态和三态按钮（正常态、滑入、按下）（正常态、滑入）</li> <li>selected：是否选中（按下或滑入）</li> <li>label：按钮的文本标签</li> <li>labelFont：标签字体</li> <li>labelSize：标签大小</li> <li>labelBold：标签加粗</li> <li>labelColors：鼠标在元素释放时、鼠标移动到元素时、鼠标按下时各个状态下的标签颜色(格式:upColor鼠标释放,overColor处于上方,downColor鼠标按下)</li> <li>labelAlign：标签对齐模式，默认为居中对齐</li> <li>labelPadding：按钮文本标签的边距。 格式：上边距,右边距,下边距,左边距</li> <li>labelStroke：描边宽度（以像素为单位）。 默认值0，表示不描边</li> <li>labelStrokeColor：描边颜色，以字符串表示。 默认值为 #000000（黑色）strokeColors</li> <li>strokeColors：鼠标在元素释放时(抬起移开)、鼠标移动到元素时、鼠标按下时各个状态下的描边颜色(格式:upColor,overColor,downColor)</li></ul></li></ul> <h3 id="checkbox"><a href="#checkbox" class="header-anchor">#</a> CheckBox</h3> <p><strong>多选框CheckBox是继承自Button的</strong>，它相比于Button会 <strong>少一个labelAlign属性</strong>，可以使用 <strong>labelPadding来调整多选框的文本</strong> 。</p> <h3 id="radio和radiogroup"><a href="#radio和radiogroup" class="header-anchor">#</a> Radio和RadioGroup</h3> <p><strong>单选框Radio是继承自Button的</strong>，而单选框组RadioGroup是用于 <strong>存放一组Radio的容器</strong>；Radio的属性跟Button一样，RadioGroup跟Button有一部分属性是一样，还有一些自己独有的：</p> <ul><li>常用
<ul><li>labels：标签集合（该单选框组里有多少个单选框，就写他们的名字）</li> <li>space：间隔（单选框之间的间隔）</li> <li>direction：排列方向（横向horizontal，纵向vertical）</li> <li>selectedIndex：选择索引，默认-1</li> <li>bgColor：边线颜色</li></ul></li></ul> <p>可以 <strong>选中多个Radio，然后转换为RadioGroup</strong>，这样自定义的RadioGroup有两个地方要注意，一是 <strong>每个item要规范命名</strong>，例如“item0、item1、item2、item3”；二是 <strong>不能在RadioGroup的labels给每个单选框取名了，要到每个单选框自己的label上设置</strong>。</p> <h2 id="切换标签与导航布局器"><a href="#切换标签与导航布局器" class="header-anchor">#</a> 切换标签与导航布局器</h2> <h3 id="tab"><a href="#tab" class="header-anchor">#</a> Tab</h3> <p><strong>Tab和RadioGroup都继承自UIGroup，UIGroup继承自Box</strong>；Tab同样可以使用组件库里的Tab，也可以选中一些组件然后转换为Tab，同样也要注意命名的问题。<br>
Tab跟RadioGroup有相同的属性，只是多了一个 <strong>labelAlign标签对齐模式</strong>。</p> <h3 id="viewstack"><a href="#viewstack" class="header-anchor">#</a> ViewStack</h3> <p><strong>ViewStack通常跟Tab配套使用</strong>，导航栏对应面板来显示，ViewStack里面会存放Box或者Image这样的显示内容（命名通常是 <strong>item0、item1、item2、item3</strong>），切换Tab时对应的ViewStack也要切换</p> <ul><li>常用
<ul><li>selectedIndex：选择索引</li></ul></li></ul> <h2 id="基础容器与排版容器"><a href="#基础容器与排版容器" class="header-anchor">#</a> 基础容器与排版容器</h2> <h3 id="box"><a href="#box" class="header-anchor">#</a> Box</h3> <p><strong>Box是整个容器组件的基础类</strong>，所有的容器组件都是继承自Box；Box可以作为 <strong>任何显示组件的容器</strong>，可以相对布局，其子节点也能绝对布局，它还可以作为List或tree的渲染项。</p> <h3 id="vbox"><a href="#vbox" class="header-anchor">#</a> VBox</h3> <p><strong>VBox比Box多了垂直布局</strong>，最后显示出来的全是排列垂直的（从上到下排列），区别就是align是左对齐还是右对齐还是居中对齐</p> <ul><li>常用
<ul><li>space：子对象的间隔</li> <li>align：布局元素的水平对齐</li></ul></li></ul> <h3 id="hbox"><a href="#hbox" class="header-anchor">#</a> HBox</h3> <p><strong>HBox比Box多了水平布局</strong>，最后显示出来的全是排列水平（从左到右排列），区别就是align是以顶部对齐还是以底部对齐还是居中对齐</p> <ul><li>常用
<ul><li>space：子对象的间隔</li> <li>align：布局元素的水平对齐</li></ul></li></ul> <h2 id="列表组件"><a href="#列表组件" class="header-anchor">#</a> 列表组件</h2> <h3 id="list"><a href="#list" class="header-anchor">#</a> List</h3> <p>List列表组件常用于游戏中 <strong>排行榜、商店等</strong>，List包含基础的渲染项，每一项的UI构成基本相同，只是 <strong>渲染数据不同</strong> 而已。<br>
通常的做法是 <strong>先构建渲染项Box，将它的renderType设置为render，再选中渲染项Box将其转换成容器Ctrl+B</strong>，也就是转换成List容器。<br>
这样还不够，还需要设置List的大小还有xy方向的渲染数量等等属性：</p> <ul><li>常用
<ul><li>repeatX：X方向项数量（不设置的话，将按照渲染项和List宽高关系进行渲染）</li> <li>repeatY：Y方向项数量（不设置的话，将按照渲染项和List宽高关系进行渲染）</li> <li>elasticEnabled：是否使用橡皮筋效果，默认为false</li> <li>spaceX：X方向项间隔（渲染项之间的间隔）</li> <li>spaceY：Y方向项间隔</li> <li>vScrollBarSkin：垂直滚动条皮肤（不使用皮肤可以使用空格替代）</li> <li>hScrollBarSkin：水平滚动条皮肤（不使用皮肤可以使用空格替代）</li> <li>selectEnable：是否可以选中</li> <li>selectedIndex：当前选择的项索引</li></ul></li></ul> <p><strong>List的渲染项也可以使用View</strong>，这样的好处是通用的渲染可以共用维护起来也方便，坏处就是UI多了可能会凌乱找不到对应的渲染项源文件。</p> <p><strong>List的渲染项赋值（array字段）</strong>：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ListUI</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Dialog <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token comment">//模拟数据结构</span>
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token string-property property">&quot;top&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;玩家名字1&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;fontSize&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;top&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;玩家名字2&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;fontSize&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;90&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;top&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;玩家名字3&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;fontSize&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;score&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> _list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getChildByName</span><span class="token punctuation">(</span><span class="token string">&quot;_list&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Laya<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
        _list<span class="token punctuation">.</span>array <span class="token operator">=</span> arr<span class="token punctuation">;</span>

        <span class="token comment">//刷新List</span>
        _list<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">onDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="下拉列表选项框"><a href="#下拉列表选项框" class="header-anchor">#</a> 下拉列表选项框</h2> <h3 id="combobox"><a href="#combobox" class="header-anchor">#</a> ComboBox</h3> <p>下拉框组件ComboBox其实是Button组件和List组件组合而成的</p> <ul><li>常用
<ul><li>labels：下拉选项的标签文本集合</li> <li>labelFont：选中的标签字体</li> <li>labelSize：选中的标签文本大小</li> <li>labelBold：选中的标签文本加粗</li> <li>labelColors：鼠标在元素释放时(抬起移开)、鼠标移动到元素之上时、鼠标按下时选中的标签颜色(格式:upColor,overColor,downColor)</li> <li>labelPadding：选中的标签文本边距。 格式：上边距,右边距,下边距,左边距</li> <li>itemSize：项字体大小</li> <li>itemColors：下拉选项列表的各种颜色(格式:鼠标滑过时的渲染项背景色overBgColor,鼠标滑过的渲染项文本颜色overLabelColor,鼠标滑出的默认文本颜色outLableColor,边框颜色borderColor,背景颜色bgColor)</li> <li>skin：下拉框按钮皮肤地址</li> <li>stateNum：按钮的状态值</li> <li>visibleNum：下拉列表中可显示的最大行数</li> <li>scrollBarSkin：滚动条皮肤（想要滚动条但不想要皮肤，可以将值设置一个空格）</li> <li>selectedIndex：按索引值设置显示默认值</li> <li>selectedLabel：按标签文本设置显示默认值</li> <li>sizeGrid：九宫格信息(格式:上边距,右边距,下边距,左边距,是否平铺(0或1，可选))</li></ul></li></ul> <h2 id="三种ui预设方法"><a href="#三种ui预设方法" class="header-anchor">#</a> 三种UI预设方法</h2> <p><strong>预设</strong> 就是提前把组件、功能面板或页面设置好，可以达到重用复用的目的，提高开发效率。</p> <ol><li>对资源的预设：在资源库里双击已经命名好的组件，在“默认全局属性”里添加你想要预设的属性（预设属性时不要加空格、引号）<br> <img src="/blog-vuepress/assets/img/资源属性预设.8b5533ef.png" alt="资源属性预设"></li> <li>对功能面板的预设：将UI里重复使用的面板（例如List中的渲染项）单独拿出来制作成View，然后使用时直接将其拖拽到目的UI上即可<br> <img src="/blog-vuepress/assets/img/功能面板预设.29c6033d.png" alt="功能面板预设"></li> <li>“保存为预制体”：选中你的UI，然后在属性管理面板的右上角找到“保存预设”按钮，点击它再设置好名称就可以保存为预制体了
<img src="/blog-vuepress/assets/img/保存为预制体.9b6f0523.png" alt="保存为预制体"></li></ol> <p><strong>第2种和第3种的区别</strong>：都可以在预设里面添加和修改内容，保存修改后的预设会在使用预设的地方会生效；不同的就是预制体使用的地方，是复制了一份预制体UI结构，可以 <strong>单独修改它也不会影响预制体</strong>，像第2种就不能在使用预设的地方修改。</p> <h2 id="树结构组件"><a href="#树结构组件" class="header-anchor">#</a> 树结构组件</h2> <h3 id="tree"><a href="#tree" class="header-anchor">#</a> Tree</h3> <p>树结构组件 <strong>Tree常</strong> 用于文件展示或者目录章节展示。<br>
Tree的创建和List类似，它的渲染项一般是Box或者预设（renderType也是render），比较常见的属性有：</p> <ul><li>常用
<ul><li>scrollBarSkin：滚动条皮肤</li> <li>selectedIndex：当前选择的项索引</li> <li>spaceBottom：项间隔距离</li> <li>spaceLeft：左侧缩进距离</li> <li>keepStatus：数据源发生变化后，是否保持之前打开状态，默认为true。</li> <li>bgColor：背景颜色（整个Tree的背景颜色）</li></ul></li></ul> <p><strong>Tree的渲染项赋值（xml字段）</strong>：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">tree</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Tree <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
           <span class="token comment">//组装tree的模拟数据</span>
           <span class="token keyword">let</span> treeData <span class="token operator">=</span> <span class="token string">&quot;&lt;data&gt;&quot;</span><span class="token punctuation">;</span>
           <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                treeData <span class="token operator">+=</span> <span class="token string">&quot;&lt;item aaa='目录 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;' isOpen='false'&gt;&quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                     treeData <span class="token operator">+=</span> <span class="token string">&quot;&lt;leaf aaa='文件 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;'/&gt;&quot;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                treeData <span class="token operator">+=</span> <span class="token string">&quot;&lt;/item&gt;&quot;</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           treeData <span class="token operator">+=</span> <span class="token string">&quot;&lt;/data&gt;&quot;</span><span class="token punctuation">;</span>
           <span class="token comment">// 将组装的字符串数据解决为xml</span>
        <span class="token keyword">let</span> xml <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Utils<span class="token punctuation">.</span><span class="token function">parseXMLFromString</span><span class="token punctuation">(</span>treeData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// this本身就是Tree，直接赋值给xml字段</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>xml <span class="token operator">=</span> xml<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">onDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Tree展开有个坑点：<strong>背景图的名字必须是selectBox，折叠图标名字必须是arrow，文件图标名字必须是folder，而label名可以随意</strong><br> <img src="/blog-vuepress/assets/img/Tree展开坑点.1c302bda.png" alt="Tree展开坑点"></p> <h2 id="数据源和节点属性赋值"><a href="#数据源和节点属性赋值" class="header-anchor">#</a> 数据源和节点属性赋值</h2> <p>组件在使用时有一个 <strong>dataSource字段，它就是组件的数据源，在这个数据源里可以修改组件的属性</strong>，在运行时就会覆盖之前在IDE上设置的组件属性。注意：Sprite和UIComponent这一脉才有dataSource字段，Scene那一脉是没有的。</p> <ul><li>这里是将btn继承了Laya.Button，然后将这个脚本放到组件的runtime里，当组件被启用执行后就会修改DataSource：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">btn</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Button <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token comment">// 数据源，对属性进行重新赋值</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;labelSize&quot;</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string-property property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;按钮&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取子节点（子节点的name属性要设置了值才可以通过getChildByName获取到）</span>
        <span class="token keyword">let</span> son <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getChildByName</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Laya<span class="token punctuation">.</span>Label<span class="token punctuation">;</span>
        <span class="token comment">// 对子节点属性进行重新复制</span>
        son<span class="token punctuation">.</span>dataSource <span class="token operator">=</span>  <span class="token punctuation">{</span><span class="token string-property property">&quot;fontSize&quot;</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span><span class="token string">&quot;按钮子节点文本&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;color&quot;</span><span class="token operator">:</span><span class="token string">&quot;#000fff&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">onDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>dataSource除了在runtime脚本里使用，也可以通过“添加组件”使用，但不是继承Laya.Button这样的UI了，是继承Laya.Script了：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">scriptDatasource</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Script <span class="token punctuation">{</span>
    <span class="token comment">/** @prop {name:intType, tips:&quot;整数类型示例&quot;, type:Int, default:1000}*/</span>
    <span class="token keyword">public</span> intType<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token comment">/** @prop {name:numType, tips:&quot;数字类型示例&quot;, type:Number, default:1000}*/</span>
    <span class="token keyword">public</span> numType<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token comment">/** @prop {name:strType, tips:&quot;字符串类型示例&quot;, type:String, default:&quot;hello laya&quot;}*/</span>
    <span class="token keyword">public</span> strType<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello laya&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">/** @prop {name:boolType, tips:&quot;布尔类型示例&quot;, type:Bool, default:true}*/</span>
    <span class="token keyword">public</span> boolType<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// 更多参数说明请访问: https://ldc2.layabox.com/doc/?nav=zh-as-2-4-0</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token keyword">as</span> Laya<span class="token punctuation">.</span>UIComponent<span class="token punctuation">)</span><span class="token punctuation">.</span>dataSource <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span><span class="token string">&quot;我是文本&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>然后如下图，直接将该脚本拖到Label节点下或者点击左侧属性管理面板中的“添加组件”<br> <img src="/blog-vuepress/assets/img/添加组件.052e48f3.png" alt="添加组件"></li></ul> <h2 id="修改ide中属性的位置"><a href="#修改ide中属性的位置" class="header-anchor">#</a> 修改IDE中属性的位置</h2> <p>先进入Basics所在目录<br> <img src="/blog-vuepress/assets/img/Basics所在目录.1179e0ca.png" alt="Basics所在目录"><br>
再刚刚目录的上级目录也就是layaEditor目录然后进入renders目录，找到laya.editorUI.xml文件，修改里面属性位置即可</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/6/2022, 3:41:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog-vuepress/book-web/LayaBox游戏引擎/3.组件库的介绍.html" class="prev">
        3.组件库的介绍
      </a></span> <span class="next"><a href="/blog-vuepress/book-web/LayaBox游戏引擎/5.组件化开发.html">
        5.组件化开发
      </a>
      →
    </span></p></div> </main> <div class="right-sidebar-wrapper right-sidebar-hidden"><aside class="right-sidebar"><ul><h4>本文目录</h4></ul></aside> <div class="sidebar-toggle" data-v-10bfdc0c><div class="sidebar-toggle-button" data-v-10bfdc0c><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span></div></div></div></div><div class="global-ui"></div></div>
    <script src="/blog-vuepress/assets/js/app.0d2e1fde.js" defer></script><script src="/blog-vuepress/assets/js/2.a046c74e.js" defer></script><script src="/blog-vuepress/assets/js/15.b9f3c2f3.js" defer></script>
  </body>
</html>
