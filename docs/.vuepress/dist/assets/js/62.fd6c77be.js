(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{646:function(a,t,s){"use strict";s.r(t);var e=s(13),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"环境搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[a._v("#")]),a._v(" 环境搭建")]),a._v(" "),s("h2",{attrs:{id:"layaair安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#layaair安装"}},[a._v("#")]),a._v(" LayaAir安装")]),a._v(" "),s("ol",[s("li",[a._v("先进入"),s("a",{attrs:{href:"https://ldc2.layabox.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Laya引擎官网"),s("OutboundLink")],1),a._v("，再点击“引擎下载”选择“LayaAir IDE下载”，不要使用最新的版本，要选择晚一些的版本。")]),a._v(" "),s("li",[a._v("更新引擎，可以直接下载引擎包，在本地替换，也可以打开IDE在IDE里面进行更新。")]),a._v(" "),s("li",[a._v("打开LayaAir IDE，点击“新建”，选择TypeScript版本。")])]),a._v(" "),s("h2",{attrs:{id:"代码管理-git-、扩展包管理-npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码管理-git-、扩展包管理-npm"}},[a._v("#")]),a._v(" 代码管理(Git)、扩展包管理(npm)")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("先下载安装"),s("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Git"),s("OutboundLink")],1),a._v(" 和"),s("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Node.js"),s("OutboundLink")],1),a._v("。Git的使用可以查看之前写的——"),s("RouterLink",{attrs:{to:"/book-web/常用工具/Git的使用.html"}},[a._v("Git的使用")]),a._v("，Npm的使用可以查看之前写的——"),s("RouterLink",{attrs:{to:"/book-web/常用工具/Npm的使用.html"}},[a._v("Npm的使用")]),a._v("。")],1)]),a._v(" "),s("li",[s("p",[a._v("定位到之前新建项目的根目录下，在空白处右击并选择 "),s("strong",[a._v("“Git Bash Here”")]),a._v("，在命令行窗口中输入 "),s("strong",[a._v("git init")]),a._v("，为项目添加代码管理工具。当然，如果项目已经存在于线上git代码库了，直接使用 "),s("strong",[a._v("git clone xxx")]),a._v(" 命令克隆下来即可。")])]),a._v(" "),s("li",[s("p",[a._v("命令行窗口不要关闭，继续输入 "),s("strong",[a._v("npm init")]),a._v(" ，为该项目添加npm管理工具，后面需要什么依赖再安装什么依赖。当然，你也可以先将 "),s("strong",[a._v("package.json")]),a._v(" 配置好（需要的依赖包），然后运行 "),s("strong",[a._v("npm install")]),a._v(" 将所有的依赖下载好。")])])]),a._v(" "),s("h2",{attrs:{id:"代码编辑器-vscode-、typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码编辑器-vscode-、typescript"}},[a._v("#")]),a._v(" 代码编辑器(VSCode)、TypeScript")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("LayaAir IDE一般只用来场景编辑和资源导出，所以得给项目专门配置一个代码编辑工具"),s("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("VSCode"),s("OutboundLink")],1),a._v("，VSCode的使用可以查看之前写的——"),s("RouterLink",{attrs:{to:"/book-web/常用工具/VSCode的使用.html"}},[a._v("VSCode的使用")]),a._v("。")],1)]),a._v(" "),s("li",[s("p",[a._v("使用 "),s("strong",[a._v("“npm install --save-dev typescript”")]),a._v(" 来安装"),s("a",{attrs:{href:"https://www.tslang.cn/",target:"_blank",rel:"noopener noreferrer"}},[a._v("TypeScript"),s("OutboundLink")],1),a._v("，配置好 "),s("strong",[a._v("tsconfig.json、tslint.json")])])])]),a._v(" "),s("h2",{attrs:{id:"代码测试-mocha、chai"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码测试-mocha、chai"}},[a._v("#")]),a._v(" 代码测试(mocha、chai)")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("引擎里的元素在Node环境下可能跑不起来（没有Window），所以用单元测试测跟引擎元素无关的逻辑。这样只需要用到mocha+chai，而"),s("a",{attrs:{href:"https://www.npmjs.com/package/mochawesome",target:"_blank",rel:"noopener noreferrer"}},[a._v("mochawesome"),s("OutboundLink")],1),a._v("、"),s("a",{attrs:{href:"https://www.npmjs.com/package/nyc",target:"_blank",rel:"noopener noreferrer"}},[a._v("nyc"),s("OutboundLink")],1),a._v("两种报告其实没什么必要。")])]),a._v(" "),s("li",[s("p",[a._v("关于mocha和chai的内容可以查看这篇——"),s("RouterLink",{attrs:{to:"/book-web/web前端测试与调试/基于mocha+chai的单元测试.html"}},[a._v("基于mocha+chai的单元测试")]),a._v("。")],1)]),a._v(" "),s("li",[s("p",[a._v("可以等引擎团队推出专门的测试框架（unity就有自己的测试框架）；自己写的话，要引一些包修改一些东西有些麻烦，平常使用mock数据来对自己的组件进行测试就可以了。")])])]),a._v(" "),s("h2",{attrs:{id:"项目结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[a._v("#")]),a._v(" 项目结构")]),a._v(" "),s("p",[a._v("    新建的Laya项目有如下结构：")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ProjectName（项目文件夹）\n  ├──.laya （项目配置目录，存放的是项目在开发运行中的一些配置信息）\n  │   ├──compile.js （是gulp自定义编译流程的脚本文件，如果开发者对gulp比较熟悉的可以修改，否则不要动这里）\n  │   ├──launch.json （文件保存了项目调试的一些配置信息，分别是LayaAirIDE的调试配置和chrome浏览器调试配置）\n  │   └──publish.js （是gulp针对项目发布的脚本文件，开发者不要动这里）\n  ├──bin （项目输出目录，存放项目中输出的js 、HTML、游戏资源等项目运行文件，以及小游戏项目文件，运行和调试都是基于这个目录）\n  ├──laya （项目UI目录，存放LayaAirIDE当前的UI项目）\n  │   ├──assets （用来存放UI场景中所需的组件图片、音频文件等资源）\n  │   ├──pages （用来存放IDE中的场景、动画、预设等配置文件）\n  │   └──.laya （.laya文件是LayaAirIDE的UI项目配置文件）\n  ├──libs （项目库目录，代码提示，开发者假如有三方的类库使用，相关的.d.ts文件请放到这个目录下）\n  ├──release （项目发布目录，发布项目后才会生成对应的版本目录）\n  ├──src （项目的源代码目录）\n  │   ├──script （项目中的用到的源代码文件，开发者编写的游戏脚本）\n  │   ├──ui （ui目录是IDE自动生成的，开发者不要改动这里，改了也会被下次导出替换）\n  │   ├──GameConfig （游戏配置）\n  │   └──Main.ts （游戏入口文件）\n  ├──.gitignore （ git忽略设置：设置项目中一些无需提交到git的文件或文件夹。）\n  ├──ProjectName.laya （ProjectName这个项目的工程配置文件，记录了当前项目的项目名称、使用的类库版本号等）\n  └──tsconfig.json （typescript配置：用于配置项目的ts版本信息、基本规范等。）\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br")])]),s("p",[a._v("需要注意的点：")]),a._v(" "),s("ul",[s("li",[a._v("项目的入口是src/Main.ts，如果你不想使用它作为入口，可以去.laya/compile.js里修改。")]),a._v(" "),s("li",[a._v("bin目录里的东西有很多，libs是引擎库，prefab是导出的预设库，res是导出的资源库，还有声音库，H5游戏入口，小游戏所使用的文件等。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);