<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SoftEther实现虚拟局域网 | Liawn&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <meta charset="UTF-8">
  <link rel="icon" href="/blog-vuepress/favicon.ico">
    <meta name="description" content="用vuepress搭建的个人博客">
    <meta charset="UTF-8">
    
    <link rel="preload" href="/blog-vuepress/assets/css/0.styles.5c52d671.css" as="style"><link rel="preload" href="/blog-vuepress/assets/js/app.0d2e1fde.js" as="script"><link rel="preload" href="/blog-vuepress/assets/js/2.a046c74e.js" as="script"><link rel="preload" href="/blog-vuepress/assets/js/5.c6c641ea.js" as="script"><link rel="prefetch" href="/blog-vuepress/assets/js/10.88d5532b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/100.a282e1e5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/101.1917817b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/102.426bef2e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/103.24a96e53.js"><link rel="prefetch" href="/blog-vuepress/assets/js/104.0b4b8196.js"><link rel="prefetch" href="/blog-vuepress/assets/js/105.98db5522.js"><link rel="prefetch" href="/blog-vuepress/assets/js/106.7a39c799.js"><link rel="prefetch" href="/blog-vuepress/assets/js/11.78e26b31.js"><link rel="prefetch" href="/blog-vuepress/assets/js/12.e39a10a3.js"><link rel="prefetch" href="/blog-vuepress/assets/js/13.da0e53c1.js"><link rel="prefetch" href="/blog-vuepress/assets/js/14.91a6c713.js"><link rel="prefetch" href="/blog-vuepress/assets/js/15.b9f3c2f3.js"><link rel="prefetch" href="/blog-vuepress/assets/js/16.01c98a8e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/17.e733ec41.js"><link rel="prefetch" href="/blog-vuepress/assets/js/18.f4fea388.js"><link rel="prefetch" href="/blog-vuepress/assets/js/19.1d376bae.js"><link rel="prefetch" href="/blog-vuepress/assets/js/20.4751d85a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/21.00437d3b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/22.64839502.js"><link rel="prefetch" href="/blog-vuepress/assets/js/23.7a4335d7.js"><link rel="prefetch" href="/blog-vuepress/assets/js/24.3ee2b263.js"><link rel="prefetch" href="/blog-vuepress/assets/js/25.0767dbc8.js"><link rel="prefetch" href="/blog-vuepress/assets/js/26.c416d882.js"><link rel="prefetch" href="/blog-vuepress/assets/js/27.5e82d924.js"><link rel="prefetch" href="/blog-vuepress/assets/js/28.24de79c4.js"><link rel="prefetch" href="/blog-vuepress/assets/js/29.5a1e4f8e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/3.0b0dd8a7.js"><link rel="prefetch" href="/blog-vuepress/assets/js/30.3c71597f.js"><link rel="prefetch" href="/blog-vuepress/assets/js/31.f5f5fe9d.js"><link rel="prefetch" href="/blog-vuepress/assets/js/32.eac572f0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/33.660b2af0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/34.b6f9bd89.js"><link rel="prefetch" href="/blog-vuepress/assets/js/35.2e5e8650.js"><link rel="prefetch" href="/blog-vuepress/assets/js/36.04d6e910.js"><link rel="prefetch" href="/blog-vuepress/assets/js/37.4ffc07ec.js"><link rel="prefetch" href="/blog-vuepress/assets/js/38.f31deb49.js"><link rel="prefetch" href="/blog-vuepress/assets/js/39.5bd11cdb.js"><link rel="prefetch" href="/blog-vuepress/assets/js/4.6edbb2a1.js"><link rel="prefetch" href="/blog-vuepress/assets/js/40.c0dc0955.js"><link rel="prefetch" href="/blog-vuepress/assets/js/41.32840955.js"><link rel="prefetch" href="/blog-vuepress/assets/js/42.afdf16b6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/43.04bbcb6b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/44.3f372036.js"><link rel="prefetch" href="/blog-vuepress/assets/js/45.199528f2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/46.c23ffbe2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/47.33bc80d6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/48.c17f8a84.js"><link rel="prefetch" href="/blog-vuepress/assets/js/49.9f6c2490.js"><link rel="prefetch" href="/blog-vuepress/assets/js/50.d6762688.js"><link rel="prefetch" href="/blog-vuepress/assets/js/51.1b65f46c.js"><link rel="prefetch" href="/blog-vuepress/assets/js/52.d00b4d17.js"><link rel="prefetch" href="/blog-vuepress/assets/js/53.becdeb67.js"><link rel="prefetch" href="/blog-vuepress/assets/js/54.fe84cbfc.js"><link rel="prefetch" href="/blog-vuepress/assets/js/55.42ca78e9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/56.38dc1cb5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/57.f4964e37.js"><link rel="prefetch" href="/blog-vuepress/assets/js/58.9b4d0044.js"><link rel="prefetch" href="/blog-vuepress/assets/js/59.cfb9c546.js"><link rel="prefetch" href="/blog-vuepress/assets/js/6.c6de6921.js"><link rel="prefetch" href="/blog-vuepress/assets/js/60.4f4f3658.js"><link rel="prefetch" href="/blog-vuepress/assets/js/61.e691fcda.js"><link rel="prefetch" href="/blog-vuepress/assets/js/62.fd6c77be.js"><link rel="prefetch" href="/blog-vuepress/assets/js/63.9acec8fc.js"><link rel="prefetch" href="/blog-vuepress/assets/js/64.c6c33b9e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/65.30e05c43.js"><link rel="prefetch" href="/blog-vuepress/assets/js/66.fdb85611.js"><link rel="prefetch" href="/blog-vuepress/assets/js/67.4a8c9b0e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/68.cf4c210b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/69.b27adaff.js"><link rel="prefetch" href="/blog-vuepress/assets/js/7.4196f4e6.js"><link rel="prefetch" href="/blog-vuepress/assets/js/70.a3316969.js"><link rel="prefetch" href="/blog-vuepress/assets/js/71.9eb46133.js"><link rel="prefetch" href="/blog-vuepress/assets/js/72.0fe4fe9a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/73.0bf36b4a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/74.fc2e628a.js"><link rel="prefetch" href="/blog-vuepress/assets/js/75.205b56bf.js"><link rel="prefetch" href="/blog-vuepress/assets/js/76.8c2bf9b9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/77.a0993252.js"><link rel="prefetch" href="/blog-vuepress/assets/js/78.41709f17.js"><link rel="prefetch" href="/blog-vuepress/assets/js/79.c8733b25.js"><link rel="prefetch" href="/blog-vuepress/assets/js/8.f87272cd.js"><link rel="prefetch" href="/blog-vuepress/assets/js/80.f5ed5113.js"><link rel="prefetch" href="/blog-vuepress/assets/js/81.ddb61980.js"><link rel="prefetch" href="/blog-vuepress/assets/js/82.1d3482a9.js"><link rel="prefetch" href="/blog-vuepress/assets/js/83.a28d44e2.js"><link rel="prefetch" href="/blog-vuepress/assets/js/84.ce75ed5e.js"><link rel="prefetch" href="/blog-vuepress/assets/js/85.d4ffd27c.js"><link rel="prefetch" href="/blog-vuepress/assets/js/86.14ffaf35.js"><link rel="prefetch" href="/blog-vuepress/assets/js/87.482be605.js"><link rel="prefetch" href="/blog-vuepress/assets/js/88.c1035bd5.js"><link rel="prefetch" href="/blog-vuepress/assets/js/89.e739598f.js"><link rel="prefetch" href="/blog-vuepress/assets/js/9.0f96b506.js"><link rel="prefetch" href="/blog-vuepress/assets/js/90.5a928d71.js"><link rel="prefetch" href="/blog-vuepress/assets/js/91.82d05736.js"><link rel="prefetch" href="/blog-vuepress/assets/js/92.8c0f11ee.js"><link rel="prefetch" href="/blog-vuepress/assets/js/93.5cff49c0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/94.8ad61574.js"><link rel="prefetch" href="/blog-vuepress/assets/js/95.f849a0b0.js"><link rel="prefetch" href="/blog-vuepress/assets/js/96.31401883.js"><link rel="prefetch" href="/blog-vuepress/assets/js/97.98310d37.js"><link rel="prefetch" href="/blog-vuepress/assets/js/98.f626e78b.js"><link rel="prefetch" href="/blog-vuepress/assets/js/99.6891a17b.js">
    <link rel="stylesheet" href="/blog-vuepress/assets/css/0.styles.5c52d671.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><a href="/blog-vuepress/" class="home-link router-link-active"><!----> <span class="site-name">Liawn's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog-vuepress/book-web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/blog-vuepress/book-sketches/" class="nav-link router-link-active">
  生活
</a></div> <!----></nav></div></header> <div class="sidebar-wrapper sidebar-hidden"><aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog-vuepress/book-web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/blog-vuepress/book-sketches/" class="nav-link router-link-active">
  生活
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span>电脑工具</span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-vuepress/book-sketches/电脑工具/win10下载与安装.html" class="sidebar-link">win10下载与安装</a></li><li><a href="/blog-vuepress/book-sketches/电脑工具/谷歌浏览器使用.html" class="sidebar-link">谷歌浏览器使用</a></li><li><a href="/blog-vuepress/book-sketches/电脑工具/Frp实现内网穿透.html" class="sidebar-link">Frp实现内网穿透</a></li><li><a href="/blog-vuepress/book-sketches/电脑工具/SoftEther实现虚拟局域网.html" class="active sidebar-link">SoftEther实现虚拟局域网</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span>日常生活</span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-vuepress/book-sketches/日常生活/土味情话.html" class="sidebar-link">土味情话</a></li></ul></section></li></ul> </aside> <div class="sidebar-toggle" data-v-10bfdc0c><div class="sidebar-toggle-button" data-v-10bfdc0c><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span></div></div></div> <main class="page sidebar-hidden right-sidebar-hidden"> <div class="theme-default-content content__default"><h1 id="softether实现虚拟局域网"><a href="#softether实现虚拟局域网" class="header-anchor">#</a> SoftEther实现虚拟局域网</h1> <h2 id="云服务器"><a href="#云服务器" class="header-anchor">#</a> 云服务器</h2> <p>暂时使用的是<a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的<a href="https://www.aliyun.com/product/ecs" target="_blank" rel="noopener noreferrer">云服务器ECS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，轻量应用服务器、ECS通用型、ECS共享型都可以。</p> <p><a href="https://bandwagonhost.com/" target="_blank" rel="noopener noreferrer">搬瓦工<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.vultr.com/" target="_blank" rel="noopener noreferrer">vultr<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>也可以。</p> <h2 id="使用softether"><a href="#使用softether" class="header-anchor">#</a> 使用SoftEther</h2> <h3 id="安装softether到服务端"><a href="#安装softether到服务端" class="header-anchor">#</a> 安装SoftEther到服务端</h3> <p>我们用浏览器打开<a href="http://www.softether-download.com/" target="_blank" rel="noopener noreferrer">softether-download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>网址，选择<code>SoftEther VPN Server</code>组件。我们使用的是阿里云云服务器ECS，操作系统是CentOS Linux，CPU可以通过<code>cat /proc/cpuinfo</code>命令进行查询。在软件列表里选择一个你想要的版本，比如本人选择的是<code>v4.34-9744-beta</code>，右击它复制它的链接。</p> <p><img src="/blog-vuepress/assets/img/SoftEther版本选择.88966b70.png" alt="SoftEther版本选择"></p> <p>然后远程连接我们的ECS（xShell等工具连接），输入<code>cd /usr/local</code>进入个人默认的程序安装路径。然后输入<code>wget https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v4.34-9744-beta/softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz</code>将SoftEther下载到服务端（上一步复制的链接）。</p> <p>输入<code>tar -zxvf softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz</code>对SoftEther的压缩包进行解压，输入<code>rm softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz</code>对压缩包进行删除（输入<code>yes</code>确认删除），最后留下的<code>vpnserver</code>文件夹就是SoftEther。</p> <p>输入<code>cd vpnserver</code>进入这个文件夹，再输入<code>make</code>进行编译安装，一路按<code>1</code>同意。</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>cd /usr/local
wget clone https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v4.34-9744-beta/softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz
tar -zxvf softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz
rm softether-vpnserver-v4.34-9744-beta-2020.03.20-linux-x64-64bit.tar.gz
cd vpnserver
make
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>安装好SoftEther后，我们要让SoftEther在服务端开机自运行。输入<code>vim /etc/systemd/system/vpnserver.service</code>，再输入<code>i</code>进入输入模式，输入以下内容：</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>[Unit]
Description=vpnserver daemon
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/vpnserver/vpnserver start
ExecStop= /usr/local/vpnserver/vpnserver stop

[Install]
WantedBy=multi-user.target
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>按Esc退出输入模式，输入<code>:wq</code>退出并保存。最后输入<code>systemctl start vpnserver &amp;&amp; systemctl enable vpnserver</code>就设置好了开机启动。可以让服务端停止后再启动（重启），然后输入<code>netstat -tanlp</code>查看进程（杀进程使用<code>kill -9 xxx</code>）。</p> <p>参考命令：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code># 刷新服务列表
systemctl daemon-reload
# 设置开机自启
systemctl enable vpnserver
# 关闭开机自启
systemctl disable vpnserver
# 启动服务
systemctl start vpnserver
# 停止服务
systemctl stop vpnserver
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="给服务端设置安全组"><a href="#给服务端设置安全组" class="header-anchor">#</a> 给服务端设置安全组</h3> <p>云服务器<strong>内部</strong>的SoftEther依赖的<code>5555</code>可以不用管，因为你在服务器命令行里输入<code>firewall-cmd --state</code>，会发现阿里云服务器操作系统内的防火墙是默认关闭的，所以内部使用<code>5555</code>端口可以不用管了。如果你要放开云服务器本身的防火墙并添加<code>7000</code>端口，可以参考如下命令。</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code># 先查看防火墙状态
firewall-cmd --state
# 启用防火墙
systemctl start firewalld
# 停用防火墙
systemctl stop firewalld
firewall-cmd --zone=public --add-port=5555/udp --permanent 
firewall-cmd --zone=public --add-port=5555/tcp --permanent 
# 放行端口后要重新加载
firewall-cmd --reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>而<strong>外部</strong>想访问服务器以及它的一些端口，那就必须放开一些端口，这个是在<a href="https://ecs.console.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云控制台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——网络与安全——安全组。外部的手机电脑想连接云服务器SoftEther的虚拟网络，必须开放<code>500</code>和<code>4500</code>。至于<code>5555</code>那是内部用的，跟外部使用无关。<code>500</code>和<code>4500</code>开放给谁，也要限定好，不是谁想加就加的。</p> <p><img src="/blog-vuepress/assets/img/安全组端口开放.e4d25d48.png" alt="安全组端口开放"></p> <p>安全组的授权对象我们使用的是<a href="https://ecs.console.aliyun.com/#/prefixList/cn-shanghai" target="_blank" rel="noopener noreferrer">前缀列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="远程管理工具"><a href="#远程管理工具" class="header-anchor">#</a> 远程管理工具</h3> <p>在云服务器里对SoftEther服务进行配置管理是相当的不方便，SoftEther官方给我们提供了一个远程管理工具。比如我在家里的windows系统上使用“远程管理工具”，对云服务器里的SoftEther服务进行管理，这就比较类似于本地使用XShell管理云服务器。</p> <p>我们用浏览器打开<a href="http://www.softether-download.com/" target="_blank" rel="noopener noreferrer">softether-download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>网址，选择<code>SoftEther VPN Server Manager for Windows</code>组件（如果你MAC就选择MAC版），安装的时候一定要选择“仅限管理工具”（因为Server已经在云服务器上安装好了，本地机器就不用再安装了）。</p> <p><img src="/blog-vuepress/assets/img/SoftEther远程管理工具下载.40bf935e.png" alt="SoftEther远程管理工具下载"><br> <img src="/blog-vuepress/assets/img/SoftEther远程管理工具安装.bad7f26a.png" alt="SoftEther远程管理工具安装"></p> <p>安装好后，它会自动打开<code>SE-VPN Server Manager (Tools)</code>，然后我们选择“新设置”</p> <p><img src="/blog-vuepress/assets/img/SoftEther管理工具新设置.0a735ffc.png" alt="SoftEther管理工具新设置"></p> <p>新设置创建好后，我们对它进行“连接”，第一次进入，如果在云服务器SoftEther服务端里没有设置过管理员密码（上一小节我们并没有设置，所以放到这里进行设置），则会在该远程管理工具里弹出管理员密码设置弹框。</p> <p><img src="data:image/png;base64,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" alt="SoftEther管理工具设置管理员密码"></p> <p>管理员密码设置过后，会弹出“SoftEther VPN Server简单安装”，我们直接关闭这个界面，意思是我们进行手动配置。</p> <p><img src="/blog-vuepress/assets/img/SoftEther跳过简单安装.9ec4525d.png" alt="SoftEther跳过简单安装"></p> <p>接下来会让你进行“IPsec/L2TP设置”，这个会涉及到客户端连接SoftEther VPN（也就是手机或电脑连接VPN）。一定要把共享密钥记住，在手机或电脑连接VPN时用到。</p> <p><img src="/blog-vuepress/assets/img/SoftEther远程管理工具启用l2tp.ac60c648.png" alt="SoftEther远程管理工具启用l2tp"></p> <p>然后就会出现SoftEther远程管理器页面，我们可以对默认的hub进行管理，也可以删除默认的建立新的hub。我们这里就删除默认新建hub了。</p> <p><img src="/blog-vuepress/assets/img/SoftEther远程管理器页面.435c7050.png" alt="SoftEther远程管理器页面"><br> <img src="/blog-vuepress/assets/img/SoftEther管理工具创建新hub.c42f0af2.png" alt="SoftEther管理工具创建新hub"><br> <img src="/blog-vuepress/assets/img/SoftEther管理工具创建新hub2.5aaf967d.png" alt="SoftEther管理工具创建新hub2"></p> <p>对新hub进行“管理虚拟HUB”，新建用户，你有几台客户端机器就新建几个用户。</p> <p><img src="/blog-vuepress/assets/img/SoftEther管理工具管理用户.eeed212a.png" alt="SoftEther管理工具管理用户"><br> <img src="/blog-vuepress/assets/img/SoftEther管理工具新建用户.d969f3f6.png" alt="SoftEther管理工具新建用户"></p> <p>开启NAT地址转换和DHCP服务，这个是为了给客户端机器分配虚拟网络IP的。值得注意的是，“应用到客户端的选项”我们全部清空了，意思是让客户端使用自己的网关，否则可能上不了网。</p> <p><img src="/blog-vuepress/assets/img/SoftEther管理工具开启NAT地址转换和DHCP服务.0fbb34dd.png" alt="SoftEther管理工具开启NAT地址转换和DHCP服务"><br> <img src="/blog-vuepress/assets/img/SoftEther管理工具启用NAT.7ceced2a.png" alt="SoftEther管理工具启用NAT"><br> <img src="/blog-vuepress/assets/img/SoftEther管理工具NAT配置.2906c47e.png" alt="SoftEther管理工具NAT配置"></p> <p>其他除了<code>5555</code>端口暂时都删除</p> <p><img src="data:image/png;base64,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" alt="SoftEther远程管理工具暂时删除其他端口"></p> <p>OpenVpn设置暂时用不着，因为我们使用的是“IPsec/L2TP”方式进行连接的。</p> <p><img src="/blog-vuepress/assets/img/SoftEther远程管理工具不启用openvpn.7d484a9e.png" alt="SoftEther远程管理工具不启用openvpn"></p> <h3 id="客户端连接"><a href="#客户端连接" class="header-anchor">#</a> 客户端连接</h3> <p><strong>Windows连接SoftEther VPN</strong>，我们并没有使用SoftEther提供的客户端进行SoftEther VPN的连接，而是使用<strong>windows</strong>自带的VPN功能进行连接的。值得注意的是，预共享密钥就是我们在上一小节“IPsec/L2TP设置”里的共享密钥，至于用户就是“管理虚拟HUB”里新建的用户，用户名的格式得是<code>用户名@hub名</code>。</p> <p><img src="/blog-vuepress/assets/img/使用Windows10自带VPN进行连接.0e91be02.png" alt="使用Windows10自带VPN进行连接"><br> <img src="/blog-vuepress/assets/img/Windows10连接SoftEther.3f48843e.png" alt="Windows10连接SoftEther"></p> <p>windows连接SoftEther VPN后，可能上不了网。需要进行一个设置，不使用远程网络的默认网关，对于本地的请求还是走本地网关。</p> <p><img src="/blog-vuepress/assets/img/更改适配器设置.c1aabeaa.png" alt="更改适配器设置"><br> <img src="/blog-vuepress/assets/img/vpn网卡属性.bdc52f15.png" alt="vpn网卡属性"><br> <img src="/blog-vuepress/assets/img/vpn网卡属性ipv4属性.d03a59a0.png" alt="vpn网卡属性ipv4属性"><br> <img src="/blog-vuepress/assets/img/vpn网卡属性ipv4属性高级.e4880d2d.png" alt="vpn网卡属性ipv4属性高级"><br> <img src="/blog-vuepress/assets/img/vpn网卡属性ipv4属性高级默认网关.4b2d376c.png" alt="vpn网卡属性ipv4属性高级默认网关"></p> <p><strong>IOS连接SoftEther VPN</strong>，通用——VPN——添加VPN配置，“类型”选择“L2TP”，“描述”随意填写，“服务器”填云服务器的公网IP地址，“账户”就是“用户名@hub名”这样的格式，“密码”填用户对应密码，“密钥”就是“IPsec/L2TP设置”里的共享密钥，“发送所有流量”取消勾选。</p> <p><strong>安卓连接SoftEther VPN</strong>，以三星S8为例，连接——更多连接设置——VPN——添加VPN配置文件，“姓名”随意填写，“类型”选择“L2TP/IPSec PSK”，“服务器地址”填云服务器的公网IP地址，“L2TP密钥”不填，“IPSec识别符”不填，“IPSec预分享密钥”填“IPsec/L2TP设置”里的共享密钥，勾上“显示购机选项”，“DNS搜索域”和“DNS服务器”不填，“转发路由”填hub默认分配IP端<code>192.168.30.0/24</code>（子网掩码是<code>255.255.255.0</code>所以长度是24），用户名就是“用户名@hub名”这样的格式，“密码”填用户对应密码。</p> <p><code>/24</code>的意思是<code>11111111.11111111.11111111.00000000</code>（24个1），转为十进制是<code>255.255.255.0</code>，这个<code>255.255.255.0</code>表示<code>192.168.30.0</code>的最后一位可以是是<code>1~244</code>，即<code>192.168.30.1</code>到<code>192.168.30.244</code>。</p> <h3 id="连不上或者连上了不能上网"><a href="#连不上或者连上了不能上网" class="header-anchor">#</a> 连不上或者连上了不能上网</h3> <p>连不上的原因，很大原因是云服务器端口没开放。开放5555端口是为了SoftEther的使用，开发500和4500是为了电脑和手机能正常连接SoftEther。</p> <p><img src="/blog-vuepress/assets/img/安全组端口开放.e4d25d48.png" alt="安全组端口开放"></p> <p>电脑连上但不能上网，要关闭“远程网络的默认网关”，IOS也是同理得去掉“发送所有流量”的勾，安卓的话就是“转发路由”填hub默认分配IP端，这些操作都在上一节说过了。它们这样做的原因是本地请求直接走本地网关，有关VPN请求就走VPN。</p> <h2 id="softether配合rdc"><a href="#softether配合rdc" class="header-anchor">#</a> SoftEther配合RDC</h2> <p>SoftEther也可以使用RD Client进行远程桌面控制，对虚拟局域网中任意两台客户端都可以使用，只要获取它对应的<strong>虚拟局域网IP</strong>。更多的是一个虚拟局域网的功能，可以联机打游戏、访问局域网内机器里的资料等等。</p> <p><img src="/blog-vuepress/assets/img/虚拟局域网IP.69060ef5.png" alt="虚拟局域网IP"></p> <p>使用RD Client进行远程桌面控制的时候，我们就输入上面这个<strong>虚拟局域网</strong>的IP地址<code>192.168.30.200</code>。如果你的控制端和被控制端都在<strong>本地局域网</strong>，就直接用第二个红色框IP<code>192.168.0.109</code>。（至于RD Client到底怎么用就不展开了）</p> <p>每次重连SoftEther VPN，被控制端机器获取的IP地址可能和上一次不一样，这就导致控制端使用RD Client时填写的IP也得跟着改动。所以我们得让这个IP一个固定IP地址。我们先查看SoftEther的DHCP设置，有效IP段是<code>192.168.30.10</code>到<code>192.168.30.200</code>。再让被控制端机器的VPN的虚拟网卡获取IP固定为<code>192.168.30.200</code>。</p> <p><img src="/blog-vuepress/assets/img/SoftEther分配的IP段.db769204.png" alt="SoftEther分配的IP段"></p> <p><img src="/blog-vuepress/assets/img/WindowsVPN虚拟网卡获取固定IP.01650d46.png" alt="WindowsVPN虚拟网卡获取固定IP"></p> <p><strong>手动连接</strong>VPN其实很麻烦，一旦我们不在电脑前就无法手动连VPN了，所以我们需要电脑开机后<strong>自动连接VPN</strong>。Windows环境的话，在SoftEther目录（其他目录也可以）下新建startvpn.bat批处理文件，使用文本编辑器打开并编辑：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>@echo off
rem WIFI名称
set wifi_name=TP-LINK_602
rem 连接WIFI
(netsh WLAN show interfaces | findStr %wifi_name% &gt;nul &amp;amp;&amp;amp; ( 
    echo wifi already connected
)) || (
    netsh wlan connect ssid=%wifi_name% name=%wifi_name%
    echo wifi connect succeed
)
rem 延迟2秒
timeout /t 2 /nobreak
rem 连接VPN
(ipconfig|find/i &quot;myvpn&quot; &amp;amp;&amp;amp; (
    echo vpn already connected
)) || (
    rasdial myvpn user2@hub1 123456
    echo vpn connect succeed
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>大致解释一下：<code>@echo off</code>是不显示执行框，<code>rem</code>是注释标识符，<code>set</code>定义一个变量，<code>netsh WLAN show interfaces</code>是查看当前连接wifi的信息，<code>findStr %wifi_name%</code>是进一步查看wifi连接信息里的wifi名，<code>echo xxx</code>是提示语xxx，<code>netsh wlan connect ssid=%wifi_name% name=%wifi_name%</code>是连接到某个wifi，查看ssid可以使用<code>netsh wlan show networks mode=bssid</code>，<code>ipconfig|find/i &quot;myvpn&quot;</code>表示连上vpn没有如果连上是能查到vpn名称的，<code>rasdial myvpn user2@hub1 123456</code>是连接到名为<code>myvpn</code>的vpn，账号格式是<code>用户名@hub名</code>。</p> <p>我们将准备好的startvpn.bat加入到任务计划程序，让startvpn.bat在电脑开机时执行。打开电脑的“任务计划程序”，选择右侧的“创建任务...”。</p> <ul><li>在常规这个页签里，名称填为“myvpn”，然后勾上“不管用户是否登录都要运行”、“使用最高权限运行”、“隐藏”。</li> <li>在触发器这个页签里，选择新建，然后开始任务选择“启动时”，可以自己选择是否重复执行以及间隔。</li> <li>在操作这个页签里，选择新建，然后点击“浏览”选择前面创建的“startvpn.bat”，最后在“起始于”里填写startvpn.bat的父路径（D:\SoftEther VPN Server Manager）。</li> <li>返回常规页签，然后点击确定，输入电脑登录密码，就完成了VPN的自动连接。</li></ul> <p>至于怎么让被控制端机器怎么<strong>自动开机</strong>，这就涉及到“电源管理”，比如戴尔的BOIS的“Power Management”、“Auto On Mode”、“Auto On Time”、“wake ON lan/wan ”、“USB Wake Support”等。</p> <h2 id="说在最后"><a href="#说在最后" class="header-anchor">#</a> 说在最后</h2> <p>SoftEther相比Frp就安全一些，有用户分配、密码验证、秘钥验证等等，并且客户端使用不需要下载什么文件软件等，直接使用系统自带工具连接。如果只是单纯的用RDC远程桌面控制，用Frp就足够了；如果要多台机器联机使用就用SoftEther。</p> <p>最好不要使用该技术应用到国外云服务器上，就算你用了也要低调使用（学习IT技术、理智获取国外资讯等），也不要做违法犯罪的事（这个就不用多说了吧）。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/6/2022, 3:41:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog-vuepress/book-sketches/电脑工具/Frp实现内网穿透.html" class="prev">
        Frp实现内网穿透
      </a></span> <span class="next"><a href="/blog-vuepress/book-sketches/日常生活/土味情话.html">
        土味情话
      </a>
      →
    </span></p></div> </main> <div class="right-sidebar-wrapper right-sidebar-hidden"><aside class="right-sidebar"><ul><h4>本文目录</h4></ul></aside> <div class="sidebar-toggle" data-v-10bfdc0c><div class="sidebar-toggle-button" data-v-10bfdc0c><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span><span data-v-10bfdc0c></span></div></div></div></div><div class="global-ui"></div></div>
    <script src="/blog-vuepress/assets/js/app.0d2e1fde.js" defer></script><script src="/blog-vuepress/assets/js/2.a046c74e.js" defer></script><script src="/blog-vuepress/assets/js/5.c6c641ea.js" defer></script>
  </body>
</html>
