(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{356:function(s,t,a){s.exports=a.p+"assets/img/组件分类.1f6699c1.png"},357:function(s,t,a){s.exports=a.p+"assets/img/挂载script脚本到组件上.563f5279.png"},358:function(s,t){s.exports="data:image/png;base64,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"},359:function(s,t,a){s.exports=a.p+"assets/img/Script生命周期.b13daa38.jpg"},360:function(s,t,a){s.exports=a.p+"assets/img/节点及组件生命周期.a67b21d3.jpg"},361:function(s,t){s.exports="data:image/png;base64,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"},362:function(s,t,a){s.exports=a.p+"assets/img/组件化开发应用场景.63414b65.png"},699:function(s,t,a){"use strict";a.r(t);var n=a(16),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"组件化开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件化开发"}},[s._v("#")]),s._v(" 组件化开发")]),s._v(" "),n("h2",{attrs:{id:"组件化开发的思想"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件化开发的思想"}},[s._v("#")]),s._v(" 组件化开发的思想")]),s._v(" "),n("p",[s._v("很多项目的 "),n("strong",[s._v("耦合性比较高")]),s._v("，后期改造、维护难度比较大，如果项目 "),n("strong",[s._v("使用“组件化开发”")]),s._v(" 这种模式，可以对项目进行很大程度上的 "),n("strong",[s._v("解耦")]),s._v("，也就降低了维护项目的难度和成本。“组件化开发”的 "),n("strong",[s._v("核心思想是尽可能将业务逻辑模块化")]),s._v("，将逻辑都写在脚本里，然后将脚本和组件关联起来，使用组件时对应的脚本就会运行。")]),s._v(" "),n("h2",{attrs:{id:"组件化开发-中的组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件化开发-中的组件"}},[s._v("#")]),s._v(" “组件化开发”中的组件")]),s._v(" "),n("p",[s._v("在"),n("RouterLink",{attrs:{to:"/book-web/LayaBox游戏引擎/3.组件库的介绍.html"}},[s._v("3.组件库的介绍")]),s._v("这篇里介绍过组件库，也提到过功能类组件，这些都是“组件化开发”中的组件，可以整体的分为这样几类："),n("br"),s._v(" "),n("img",{attrs:{src:a(356),alt:"组件分类"}}),n("br"),s._v("\n该图片地址："),n("a",{attrs:{href:"https://www.processon.com/mindmap/5f58fba0e401fd60bdeb855b",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.processon.com/mindmap/5f58fba0e401fd60bdeb855b"),n("OutboundLink")],1)],1),s._v(" "),n("ul",[n("li",[n("strong",[s._v("节点类组件(Node)")]),s._v("：2D 基础组件（Animation\\HTMLDivElement\\Sprite\\Text）、基础显示组件（Button\\Image\\Label 等）、容器组件（Box\\List\\Panel 等）、视图组件（Scene\\View\\Dialog）；")]),s._v(" "),n("li",[n("strong",[s._v("绘图类组件(Graphics)")]),s._v("：矢量图（Circle\\Curves\\Line 等）、纹理（Texture\\FillTexture）和文本（FillText）；")]),s._v(" "),n("li",[n("strong",[s._v("功能类组件(Component)")]),s._v("：组件（脚本组件、物理组件等）、泛组件（滤镜组件，类似 Component）。")])]),s._v(" "),n("h2",{attrs:{id:"组件化开发的方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件化开发的方式"}},[s._v("#")]),s._v(" 组件化开发的方式")]),s._v(" "),n("p",[s._v("组件有自己的 "),n("strong",[s._v("生命周期")]),s._v("，在对应的生命周期函数里可以执行一些游戏逻辑，如果 "),n("strong",[s._v("将一个脚本继承自组件")]),s._v("，然后在脚本里 "),n("strong",[s._v("重写组件的生命周期函数并写上相应的游戏逻辑")]),s._v(" ，这样的开发方式叫做 "),n("strong",[s._v("runTime 脚本进行组件化开发")]),s._v("。")]),s._v(" "),n("p",[s._v("如果不使用 runtime 方式，可以 "),n("strong",[s._v("给组件挂载一个 script 脚本（不继承自组件，是挂载的方式）")]),s._v("，该脚本 "),n("strong",[s._v("也有自己的生命周期")]),s._v(" 并与组件的生命周期是 "),n("strong",[s._v("息息相关的")]),s._v("，这种开发方式叫做 "),n("strong",[s._v("script 脚本进行组件化开发")]),s._v("。")]),s._v(" "),n("p",[s._v("两种方式的差异和应用会在最后一小节"),n("RouterLink",{attrs:{to:"/book-web/LayaBox游戏引擎/5.组件化开发.html#两种方式的区别和应用场景"}},[s._v("“两种方式的区别和应用场景”")]),s._v("里讲述。")],1),s._v(" "),n("h2",{attrs:{id:"script-脚本开发流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#script-脚本开发流程"}},[s._v("#")]),s._v(" script 脚本开发流程")]),s._v(" "),n("h3",{attrs:{id:"script-脚本挂载到组件上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#script-脚本挂载到组件上"}},[s._v("#")]),s._v(" script 脚本挂载到组件上")]),s._v(" "),n("p",[s._v("其实在上一个章节就提到过怎么将 script 脚本添加到组件上了，这里梳理一下：")]),s._v(" "),n("ul",[n("li",[s._v("准备好 "),n("strong",[s._v("目标组件")]),s._v(" ，然后在项目的 src/script 目录下新建一个脚本，使用的是 ts 语言，那脚本就是 xxx.ts 之类的；")]),s._v(" "),n("li",[s._v("将脚本拖拽到层级面板中的 "),n("strong",[s._v("目标组件节点下")]),s._v(" 或者直接拖拽到 "),n("strong",[s._v("目标组件的属性面板里")]),s._v("，这样 script 脚本就挂载到组件上了；")]),s._v(" "),n("li",[s._v("除了拖拽的方法外，还可以在目标组件的 "),n("strong",[s._v("属性面板")]),s._v(" 最下方点击 "),n("strong",[s._v("“添加组件”")]),s._v("，选择“Code”再选择对应的脚本即可。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(357),alt:"挂载script脚本到组件上"}})]),s._v(" "),n("h3",{attrs:{id:"编写-script-脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-script-脚本"}},[s._v("#")]),s._v(" 编写 script 脚本")]),s._v(" "),n("p",[s._v("比如在组件激活时（onEnable）将图片放大至两倍，最基本的脚本写法：")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("scaleDemo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Laya")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Script "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" img"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Laya"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// UI组件的赋值最好在onEnable里编写，别在构造函数里写，因为组件可能还没有激活")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onEnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// script脚本化开发，获取本组件是通过this.owner来获取的")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("owner "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Laya"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleX "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleY "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onDisable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"script-脚本属性在-ide-里可视化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#script-脚本属性在-ide-里可视化"}},[s._v("#")]),s._v(" script 脚本属性在 IDE 里可视化")]),s._v(" "),n("p",[s._v("1)可以将 script 脚本中的属性在 IDE 中显示出来，示例如下")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/** @prop {name:big,tips:"放大",type:int,default:2} */')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" big"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:a(358),alt:"属性可视化"}})]),s._v(" "),n("p",[s._v("2)定义属性常用的字段解释：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("name")]),s._v("：属性在 IDE 中展示的名字；")]),s._v(" "),n("li",[n("strong",[s._v("tips")]),s._v("：在 IDE 里将鼠标悬浮到属性上时，会展示一个 tips 提示；")]),s._v(" "),n("li",[n("strong",[s._v("default")]),s._v("：属性在 IDE 中展示的默认值，在 "),n("strong",[s._v("script 脚本中也要给变量赋值这个默认值")]),s._v("，否则可能会发生一些错误或者达不到效果；")]),s._v(" "),n("li",[n("strong",[s._v("type")]),s._v("：属性在 IDE 里的数据类型，"),n("strong",[s._v("Number、Int（ts 对应 number）、String、Boolean（布尔类型，ts 对应 boolean）、Color（颜色，ts 对应 string）、Vec（数组，ts 对应 number[]）、Vector（动态数组，ts 对应 any[]）、Option（下拉框，ts 对应 string）、EditOption（可编辑下拉框但不能定义默认值，ts 对应 string）、Ease（缓动类型，ts 对应 string）、sNumber（数字滑动条，ts 对应 number）、Prefab（预制体，代码对应 Laya.Prefab）、Node（节点，代码对应 Laya.xxx）、Nodes（对节点，代码是 Laya.xxx 的数组形式）")]),s._v(" 等等；")]),s._v(" "),n("li",[n("strong",[s._v("accept 和 acceptTypes")]),s._v("：当 "),n("strong",[s._v("type 为 string")]),s._v(" 时，可以使用 "),n("strong",[s._v("accept 和 acceptTypes")]),s._v(" 来具体约束这个 string；比如 accept 可以是 "),n("strong",[s._v("res、files")]),s._v("，意思是属性的类型要是 "),n("strong",[s._v("资源路径、文件路径")]),s._v("，acceptTypes 可以是 "),n("strong",[s._v('"png,jpg"')]),s._v("，意思是路径后缀必须是 "),n("strong",[s._v("png、jpg")])]),s._v(" "),n("li",[n("strong",[s._v("option")]),s._v("：当 "),n("strong",[s._v("type 为 Option")]),s._v(" 时，option 用来存放 "),n("strong",[s._v("下拉框所有选项")]),s._v("；")]),s._v(" "),n("li",[n("strong",[s._v("min 和 max")]),s._v("：当 "),n("strong",[s._v("sNumber")]),s._v(" 时，min 和 max 就是 "),n("strong",[s._v("滑动条的上下限")]),s._v("；")])]),s._v(" "),n("p",[s._v("PS：预制体在 script 脚本中使用，"),n("strong",[s._v("this.prefab.create()或者 this.prefab.json.props.texture")])]),s._v(" "),n("h3",{attrs:{id:"重写声明周期函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重写声明周期函数"}},[s._v("#")]),s._v(" 重写声明周期函数")]),s._v(" "),n("p",[s._v("Laya.Script 有自己的生命周期函数，script 脚本继承自 Laya.Script，重写对应的生命周期函数，并在其中编写控制组件的逻辑代码")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("scaleDemo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Laya")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Script "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/** @prop {name:big,tips:"放大",type:int,default:2} */')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" big"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/** @prop {name:small,tips:"缩小",type:number,default:0.5} */')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" small"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" img"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Laya"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// UI组件的赋值最好在onEnable里编写，别在构造函数里写，因为组件可能还没有激活")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onEnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// script脚本化开发，获取本组件是通过this.owner来获取的")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("owner "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Laya"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 键盘按下")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onKeyDown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleX "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("small"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleY "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("small"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 每帧更新")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 旋转")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rotation"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 鼠标按下")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onMouseDown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 按住拖住")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("startDrag")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在舞台上点击")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onStageClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleX "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("big"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scaleY "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("big"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onDisable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("h3",{attrs:{id:"了解整个生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#了解整个生命周期"}},[s._v("#")]),s._v(" 了解整个生命周期")]),s._v(" "),n("p",[s._v("1)script 脚本的生命周期："),n("br"),s._v(" "),n("img",{attrs:{src:a(359),alt:"Script生命周期"}}),n("br"),s._v("\nscript 脚本除了生命周期函数以外，还有一些鼠标点击、键盘和碰撞等事件，当然也不止这些事件，可以去"),n("a",{attrs:{href:"http://layaair2.ldc2.layabox.com/api2/Chinese/index.html?category=Core&class=laya.components.Script",target:"_blank",rel:"noopener noreferrer"}},[s._v("laya.components.Script"),n("OutboundLink")],1),s._v("这个 API 里查看事件。")]),s._v(" "),n("p",[s._v("2)runtime 脚本的生命周期，也是节点 or 组件的生命周期："),n("br"),s._v(" "),n("img",{attrs:{src:a(360),alt:"节点及组件生命周期"}})]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("创建节点")]),s._v("：会先创建节点的 "),n("strong",[s._v("script 脚本（执行 script 脚本的构造函数）")]),s._v("，再创建节点的 "),n("strong",[s._v("子节点（执行子节点的构造函数）")]),s._v("，这样就完成了一个节点的创建；")]),s._v(" "),n("li",[n("strong",[s._v("addToStage")]),s._v("：先激活 "),n("strong",[s._v("script 脚本（执行 script 脚本的 onAwake 函数再执行 onEnable 函数）")]),s._v("，再激活 "),n("strong",[s._v("子节点（执行子节点的 onAwake 函数再执行 onEnable 函数）")]),s._v("，完成这两步之后才激活 "),n("strong",[s._v("节点本身（执行节点本身的 onAwake 函数再执行 onEnable 函数）")]),s._v("；")]),s._v(" "),n("li",[n("strong",[s._v("removeFromStage")]),s._v("：先禁用 "),n("strong",[s._v("script 脚本（执行 script 脚本的 onDisable 函数）")]),s._v("，再禁用 "),n("strong",[s._v("子节点（执行子节点的 onDisable 函数）")]),s._v("，完成这两步之后才禁用 "),n("strong",[s._v("节点本身（执行节点本身的 onDisable 函数）")]),s._v("；")]),s._v(" "),n("li",[n("strong",[s._v("destroy")]),s._v("：会先判断节点是否已经禁用了，没有禁用的先禁用（removeFromStage）；然后会去销毁 "),n("strong",[s._v("script 脚本（执行 script 脚本的 onDestroy 函数）")]),s._v("，再去销毁 "),n("strong",[s._v("子节点（执行子节点的 onDestroy 函数）")]),s._v("，完成这两步之后才销毁 "),n("strong",[s._v("节点本身（执行节点本身的 onDestroy 函数）")]),s._v("。")])]),s._v(" "),n("p",[s._v("也就是说 "),n("strong",[s._v("runtime 脚本的生命周期函数只有四个：onAwake（激活）、onEnable（启用）、onDisable（禁用）、onDestroy（销毁）")]),s._v("，而 "),n("strong",[s._v("script 脚本不止四个并且还带有鼠标、键盘、碰撞事件")]),s._v("。")]),s._v(" "),n("h2",{attrs:{id:"runtime-脚本开发流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#runtime-脚本开发流程"}},[s._v("#")]),s._v(" runtime 脚本开发流程")]),s._v(" "),n("h3",{attrs:{id:"关联-runtime-脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关联-runtime-脚本"}},[s._v("#")]),s._v(" 关联 runtime 脚本")]),s._v(" "),n("p",[s._v("直接将 runtime 脚本拖拽到组件的 runtime 属性里，或者直接在 runtime 属性里输入 runtime 脚本的路径。"),n("br"),s._v(" "),n("img",{attrs:{src:a(361),alt:"关联runtime脚本"}})]),s._v(" "),n("h3",{attrs:{id:"编写-runtime-脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-runtime-脚本"}},[s._v("#")]),s._v(" 编写 runtime 脚本")]),s._v(" "),n("p",[s._v("编写 runtime 脚本需要注意的是")]),s._v(" "),n("ul",[n("li",[s._v("runtime 脚本生命周期函数只有四个："),n("strong",[s._v("onAwake（激活）、onEnable（启用）、onDisable（禁用）、onDestroy（销毁）")])]),s._v(" "),n("li",[s._v("没有 script 脚本的 "),n("strong",[s._v("属性可视化")]),s._v("，因为本来就是继承自组件，不需要可视化")])]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ListUI")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Laya")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dialog "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onEnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//模拟数据结构")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        top"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"玩家名字1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fontSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        score"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        top"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"玩家名字2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fontSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        score"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"90"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        top"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"玩家名字3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fontSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        score"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"80"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" _list "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getChildByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_list"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Laya"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("List"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    _list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("array "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//刷新List")]),s._v("\n    _list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("refresh")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("onDisable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("h3",{attrs:{id:"发布模式对-runtime-脚本的影响"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布模式对-runtime-脚本的影响"}},[s._v("#")]),s._v(" 发布模式对 runtime 脚本的影响")]),s._v(" "),n("p",[s._v("之前在"),n("RouterLink",{attrs:{to:"/book-web/LayaBox游戏引擎/2.IDE的使用.html#项目设置"}},[s._v("2.IDE 的使用#项目设置")]),s._v("里提到过“场景的发布模式”，这里简单做一个总结：")],1),s._v(" "),n("ul",[n("li",[n("strong",[s._v("“内嵌模式”")]),s._v(" 生成了场景类并将 UI 数据内嵌到类里，使用方便但是代码包体积大；")]),s._v(" "),n("li",[n("strong",[s._v("“加载模式”")]),s._v(" 也生成场景类但将所有 UI 数据放到一个 UI.json 里（UI 数据从类里分离出来了），减少了代码包体积但需要提前加载大的 UI.json；")]),s._v(" "),n("li",[s._v("小游戏问世前常使用“内嵌模式”和“加载模式”，后来常使用“分离模式”和“文件模式”。")]),s._v(" "),n("li",[n("strong",[s._v("“分离模式”")]),s._v(" 也生成场景类但每个场景的 UI 数据有单独的场景数据文件，并且引擎是自动加载场景对应的场景数据文件；")]),s._v(" "),n("li",[n("strong",[s._v("“文件模式”")]),s._v(" 没有生成场景类（所以不能使用 var 要使用 getchild 操作子节点），只有场景数据文件并通过 Scene.load 来加载使用，大大减少了代码包体积。")]),s._v(" "),n("li",[s._v("建议是 "),n("strong",[s._v("将项目设置的发布模式设置为“文件模式”")]),s._v("，如果某个场景的 "),n("strong",[s._v("层级复杂、操作频繁并使用了 runtime 脚本")]),s._v("，getchild 会很麻烦且效率低，那么可以 "),n("strong",[s._v("单独将这个场景的发布模式设置为“分离模式”")]),s._v("，这样就可以使用 var 了；也就是绝大多数的场景使用“文件模式”，个别使用“分离模式”。")])]),s._v(" "),n("h2",{attrs:{id:"两种方式的区别和应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#两种方式的区别和应用场景"}},[s._v("#")]),s._v(" 两种方式的区别和应用场景")]),s._v(" "),n("h3",{attrs:{id:"区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[s._v("#")]),s._v(" 区别")]),s._v(" "),n("ul",[n("li",[s._v("runtime 脚本是 "),n("strong",[s._v("直接继承自组件")]),s._v(" ，本组件直接就是 this，其子节点获取方式是 "),n("strong",[s._v("getChildByName")]),s._v(" 或者 "),n("strong",[s._v("分离模式下搭配 var")]),s._v(" ；")]),s._v(" "),n("li",[s._v("script 脚本是 "),n("strong",[s._v("继承自 Laya.Script")]),s._v("，本组件是 "),n("strong",[s._v("this.owner")]),s._v(" ，其子节点获取方式是 "),n("strong",[s._v("getChildByName")]),s._v(" 或者使用 "),n("strong",[s._v("定义属性可视化来绑定子节点")]),s._v("（type 设置为 Node，将子节点拖拽到该自定义属性里）；")]),s._v(" "),n("li",[s._v("如果两种方式不考虑其他而都使用 getChildByName 来获取子节点，由于 script 脚本多一层 owner，会导致效率会低一些；")]),s._v(" "),n("li",[s._v("对比两种方式的生命周期图，会发现 "),n("strong",[s._v("script 脚本的生命周期函数更多并且还自带鼠标、键盘和碰撞的方法")]),s._v("，而 "),n("strong",[s._v("runtime 脚本的生命周期函数只有四个：onAwake（激活）、onEnable（启用）、onDisable（禁用）、onDestroy（销毁）")]),s._v("。")])]),s._v(" "),n("h3",{attrs:{id:"应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[s._v("#")]),s._v(" 应用场景")]),s._v(" "),n("ul",[n("li",[s._v("像一些主场景、大的页面 UI 这样的，可能需要频繁地访问页面内多个元素（多为显示隐藏等类似简单逻辑），这样的应用场景下可以使用 runtime 脚本；")]),s._v(" "),n("li",[s._v("如果主场景、大的页面 UI 里涉及到的业务很多且很复杂，像 runtime 脚本的四个生命周期函数和 this.on 复杂绑定方式满足不了开发需求，可以使用 script 脚本；当然，UI 中具体的节点也会涉及到一些逻辑，这样的建议使用 script 脚本挂载。")]),s._v(" "),n("li",[s._v("也就是说，像控制显示隐藏这样的简单逻辑的使用 runtime 脚本就足够了，更多地是涉及到复杂业务逻辑就使用 script 脚本（例如游戏总控制、角色控制等）。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(362),alt:"关联runtime脚本"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);